<template>
  <!-- Lead Search Section for Home Page Users -->
  <template if:true={displayLeadSearch}>
    <lightning-card title="Search for Lead" icon-name="standard:lead">
      <div class="slds-p-around_medium">
        <lightning-layout multiple-rows="true">
          <lightning-layout-item size="12" padding="around-small">
            <p class="slds-text-body_regular slds-m-bottom_medium">
              Search for a lead by entering their first name, last name, email,
              or phone number.
            </p>
          </lightning-layout-item>
          <lightning-layout-item
            size="12"
            medium-device-size="8"
            padding="around-small"
          >
            <lightning-input
              label="Search Term"
              placeholder="Enter name, email, or phone..."
              value={searchTerm}
              onchange={handleSearchTermChange}
              onkeyup={handleSearchKeyUp}
            ></lightning-input>
          </lightning-layout-item>
          <lightning-layout-item
            size="12"
            medium-device-size="4"
            padding="around-small"
          >
            <lightning-button
              label="Search"
              variant="brand"
              onclick={handleSearch}
              disabled={isLoading}
              class="slds-m-top_large"
            ></lightning-button>
          </lightning-layout-item>
        </lightning-layout>

        <!-- Search Results -->
        <template if:true={searchResults.length}>
          <div class="slds-m-top_large">
            <h3 class="slds-text-heading_small slds-m-bottom_medium">
              Search Results
            </h3>
            <ul class="slds-has-dividers_bottom-space">
              <template for:each={searchResults} for:item="lead">
                <li key={lead.Id} class="slds-item slds-p-vertical_small">
                  <div class="slds-grid slds-grid_align-spread slds-wrap">
                    <div
                      class="slds-col slds-size_1-of-1 slds-large-size_8-of-12"
                    >
                      <p class="slds-text-heading_small">
                        {lead.FirstName} {lead.LastName}
                      </p>
                      <p class="slds-text-body_small slds-text-color_weak">
                        Company: {lead.Company} | Email: {lead.Email} | Phone:
                        {lead.Phone}
                      </p>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-large-size_4-of-12 slds-text-align_right"
                    >
                      <lightning-button
                        label="Select"
                        variant="brand"
                        onclick={handleLeadSelection}
                        data-lead-id={lead.Id}
                      ></lightning-button>
                    </div>
                  </div>
                </li>
              </template>
            </ul>
          </div>
        </template>

        <template if:true={isLoading}>
          <lightning-spinner
            alternative-text="Searching..."
            size="medium"
          ></lightning-spinner>
        </template>
      </div>
    </lightning-card>
  </template>

  <!-- Standard Intake Management Card -->
  <template if:true={displayIntakeList}>
    <lightning-card>
      <div slot="title" class="slds-media slds-media_center">
        <div class="slds-media__figure">
          <lightning-icon
            icon-name="standard:form"
            size="small"
          ></lightning-icon>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title">Client Intake Management</h2>
        </div>
      </div>

      <div slot="actions">
        <template if:true={isHomePage}>
          <lightning-button
            label="Back to Search"
            onclick={handleBackToSearch}
          ></lightning-button>
        </template>
        <lightning-button
          variant="brand"
          label="Create New Intake"
          onclick={handleCreateNew}
          disabled={isLoading}
        ></lightning-button>
      </div>

      <div class="slds-p-around_medium slds-is-relative">
        <template if:true={isLoading}>
          <lightning-spinner
            alternative-text="Loading..."
            size="medium"
          ></lightning-spinner>
        </template>
        <template if:true={hasExistingIntakes}>
          <ul class="slds-has-dividers_bottom-space">
            <template for:each={existingIntakes} for:item="intake">
              <li class="slds-item slds-p-vertical_small" key={intake.Id}>
                <div class="slds-grid slds-grid_align-spread slds-wrap">
                  <div
                    class="slds-col slds-size_1-of-1 slds-large-size_8-of-12"
                  >
                    <p class="slds-text-heading_small slds-m-bottom_x-small">
                      {intake.Name}
                    </p>
                    <p class="slds-text-body_small slds-text-color_weak">
                      Matter Type(s): {intake.Legal_Matter_Type__c} &nbsp; |
                      &nbsp; Created:
                      <lightning-formatted-date-time
                        value={intake.CreatedDate}
                        year="numeric"
                        month="short"
                        day="2-digit"
                      ></lightning-formatted-date-time>
                    </p>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-large-size_4-of-12 slds-text-align_right slds-m-top_small slds-large-m-top_none"
                  >
                    <lightning-button-group>
                      <lightning-button
                        label="Edit"
                        onclick={handleEdit}
                        data-id={intake.Id}
                      ></lightning-button>
                      <lightning-button
                        label="View"
                        onclick={handleView}
                        data-id={intake.Id}
                      ></lightning-button>
                    </lightning-button-group>
                  </div>
                </div>
              </li>
            </template>
          </ul>
        </template>
        <template if:false={hasExistingIntakes}>
          <div class="slds-text-align_center slds-p-vertical_large">
            <p class="slds-text-body_regular slds-text-color_weak">
              No intake forms have been created for this lead yet.
            </p>
          </div>
        </template>
      </div>
    </lightning-card>
  </template>

  <!-- Form Section (separate from intake list) -->
  <template if:true={showForm}>
    <lightning-card>
      <div slot="title" class="slds-media slds-media_center">
        <div class="slds-media__figure">
          <lightning-icon
            icon-name="standard:form"
            size="small"
          ></lightning-icon>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title">{formTitle}</h2>
        </div>
      </div>

      <div slot="actions">
        <template if:true={isHomePage}>
          <lightning-button
            label="Back to Search"
            onclick={handleBackToSearch}
          ></lightning-button>
        </template>
        <lightning-button
          label="Cancel"
          onclick={handleCancel}
        ></lightning-button>
        <lightning-button
          variant="brand"
          label="Save Intake"
          onclick={handleSave}
          disabled={isLoading}
        ></lightning-button>
      </div>

      <div class="slds-p-around_medium slds-is-relative">
        <template if:true={isLoading}>
          <lightning-spinner
            alternative-text="Loading..."
            size="medium"
          ></lightning-spinner>
        </template>
        <h3 class="slds-text-heading_medium slds-m-bottom_medium">
          {formTitle}
        </h3>

        <div class="slds-m-bottom_large">
          <lightning-radio-group
            name="Type_of_Law__c"
            label="Type of Law"
            options={picklistValues.Type_of_Law__c}
            value={intakeRecord.Type_of_Law__c}
            onchange={handleFieldChange}
            data-field="Type_of_Law__c"
            required
          ></lightning-radio-group>
          <template lwc:if={showCivilType}
            ><lightning-combobox
              class="slds-m-top_small"
              label="Type of Civil Law"
              options={picklistValues.Type_of_Civil_Law__c}
              value={intakeRecord.Type_of_Civil_Law__c}
              data-field="Type_of_Civil_Law__c"
              onchange={handleFieldChange}
              required={showCivilType}
            ></lightning-combobox
          ></template>
          <template lwc:if={showCategory}
            ><lightning-combobox
              class="slds-m-top_small"
              label="Category"
              options={categoryOptions}
              value={intakeRecord.Category__c}
              data-field="Category__c"
              onchange={handleFieldChange}
              required
            ></lightning-combobox
          ></template>
          <template lwc:if={showSubcategory}
            ><lightning-combobox
              class="slds-m-top_small"
              label="Subcategory"
              options={subcategoryOptions}
              value={intakeRecord.Subcategory__c}
              data-field="Subcategory__c"
              onchange={handleFieldChange}
              required={showSubcategory}
            ></lightning-combobox
          ></template>
        </div>

        <div class="slds-m-bottom_large">
          <lightning-dual-listbox
            name="Legal_Matter_Type__c"
            label="Type of Legal Matter"
            source-label="Available"
            selected-label="Selected"
            options={picklistValues.Legal_Matter_Type__c}
            value={intakeRecord.Legal_Matter_Type__c}
            onchange={handleFieldChange}
            data-field="Legal_Matter_Type__c"
            disabled
          ></lightning-dual-listbox>
          <template if:true={showLegalMatterOtherSpecify}
            ><lightning-input
              class="slds-m-top_small"
              label="Other Legal Matter (Specify)"
              value={intakeRecord.Legal_Matter_Type_Other_Specify__c}
              data-field="Legal_Matter_Type_Other_Specify__c"
              onchange={handleFieldChange}
            ></lightning-input
          ></template>
        </div>

        <lightning-tabset variant="scoped" active-tab-value={activeTab}>
          <lightning-tab label="General Information" value="General">
            <div class="slds-p-around_medium">
              <h4 class="form-section-header">
                General Legal Matter Information
              </h4>
              <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1">
                  <lightning-textarea
                    label="Briefly describe the issue"
                    value={intakeRecord.Issue_Description__c}
                    data-field="Issue_Description__c"
                    onchange={handleFieldChange}
                  ></lightning-textarea>
                </div>
                <div class="slds-col slds-size_1-of-1">
                  <lightning-textarea
                    label="What specific outcome are you hoping to achieve?"
                    value={intakeRecord.Desired_Outcome__c}
                    data-field="Desired_Outcome__c"
                    onchange={handleFieldChange}
                  ></lightning-textarea>
                </div>
              </div>

              <h4 class="form-section-header">
                Office and Scheduling Preferences
              </h4>
              <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Preferred Office Location"
                    options={preferredOfficeLocationOptions}
                    value={intakeRecord.Preferred_Office_Location__c}
                    data-field="Preferred_Office_Location__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <template if:true={currentLeadId}>
                    <lightning-record-edit-form
                      object-api-name="Lead"
                      record-id={currentLeadId}
                    >
                      <lightning-input-field
                        field-name="Client__c"
                        onchange={handleClientChange}
                      ></lightning-input-field>
                    </lightning-record-edit-form>
                  </template>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Require accommodations for appointments?"
                    options={yesNoOptions}
                    value={intakeRecord.Require_Appointment_Accommodations__c}
                    data-field="Require_Appointment_Accommodations__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <template if:true={showAccommodations}
                  ><div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Accommodations Needed (Specify)"
                      value={intakeRecord.Appointment_Accommodations_Specify__c}
                      data-field="Appointment_Accommodations_Specify__c"
                      onchange={handleFieldChange}
                    ></lightning-input></div
                ></template>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <div class="lookup-container">
                    <lightning-input
                      type="search"
                      label="Transferred to / Scheduled with"
                      required
                      value={attorneyInputValue}
                      placeholder="Search active attorneys"
                      field-level-help="Select the attorney handling this intake, or choose None if you scheduled it yourself."
                      data-element="intake-attorney"
                      onfocus={handleAttorneyFocus}
                      onkeyup={handleAttorneyKeyUp}
                      onchange={handleAttorneyChange}
                      onblur={handleAttorneyBlur}
                      onkeydown={handleAttorneyKeydown}
                      message-when-value-missing="Select an attorney or choose None."
                      autocomplete="off"
                    ></lightning-input>
                    <template if:true={attorneyDropdownOpen}>
                      <div
                        class="slds-dropdown slds-dropdown_fluid attorney-dropdown"
                        role="listbox"
                      >
                        <template if:true={attorneyLoading}>
                          <div
                            class="slds-p-around_small slds-text-align_center"
                          >
                            <lightning-spinner
                              size="small"
                              alternative-text="Loading attorneys"
                            ></lightning-spinner>
                          </div>
                        </template>
                        <ul
                          class="slds-listbox slds-listbox_vertical"
                          role="presentation"
                        >
                          <template
                            for:each={attorneyOptions}
                            for:item="option"
                          >
                            <li
                              key={option.id}
                              role="presentation"
                              class="slds-listbox__item"
                            >
                              <div
                                class={option.className}
                                role="option"
                                data-id={option.id}
                                data-name={option.name}
                                data-is-none={option.isNone}
                                data-disabled={option.disabled}
                                onmousedown={handleAttorneyOptionMouseDown}
                              >
                                <span class="slds-media__body">
                                  <span
                                    class="slds-listbox__option-text slds-listbox__option-text_entity"
                                    >{option.name}</span
                                  >
                                  <template if:true={option.subtitle}>
                                    <span
                                      class="slds-listbox__option-meta slds-listbox__option-meta_entity"
                                      >{option.subtitle}</span
                                    >
                                  </template>
                                </span>
                              </div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </template>
                  </div>
                </div>
                <div class="slds-col slds-size_1-of-1">
                  <lightning-textarea
                    label="Specific times or days when available"
                    value={intakeRecord.Specific_Availability_Times_Days__c}
                    data-field="Specific_Availability_Times_Days__c"
                    onchange={handleFieldChange}
                  ></lightning-textarea>
                </div>
              </div>

              <h4 class="form-section-header">
                Conflicts Check & Prior Representation
              </h4>
              <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1">
                  <lightning-textarea
                    label="Other Parties Involved"
                    value={intakeRecord.Other_Parties_Involved__c}
                    data-field="Other_Parties_Involved__c"
                    onchange={handleFieldChange}
                  ></lightning-textarea>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Involved in legal matters with these parties before?"
                    options={yesNoOptions}
                    value={intakeRecord.Legal_Matters_With_Parties_Before__c}
                    data-field="Legal_Matters_With_Parties_Before__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Aware of any conflicts of interest?"
                    options={yesNoOptions}
                    value={intakeRecord.Aware_Of_Conflicts__c}
                    data-field="Aware_Of_Conflicts__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Have we represented other parties in this case?"
                    options={yesNoOptions}
                    value={intakeRecord.Represented_Other_Parties_In_Case__c}
                    data-field="Represented_Other_Parties_In_Case__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Spoken with other attorneys about this matter?"
                    options={yesNoOptions}
                    value={intakeRecord.Spoken_With_Other_Attorneys__c}
                    data-field="Spoken_With_Other_Attorneys__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <template if:true={showPriorAttorneys}>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Prior Attorney Name and Firm"
                      value={intakeRecord.Prior_Attorney_Name_Firm__c}
                      data-field="Prior_Attorney_Name_Firm__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Why didn't you hire them?"
                      options={picklistValues.Reason_No_Hire_Prior_Attorney__c}
                      value={intakeRecord.Reason_No_Hire_Prior_Attorney__c}
                      data-field="Reason_No_Hire_Prior_Attorney__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPriorAttorneyCost}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        type="number"
                        formatter="currency"
                        label="Prior Attorney Cost (Specify)"
                        value={intakeRecord.Prior_Attorney_Cost_Specify__c}
                        data-field="Prior_Attorney_Cost_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <template if:true={showPriorAttorneyOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Prior Attorney Reason Other (Specify)"
                        value={intakeRecord.Prior_Attorney_Reason_Other_Specify__c}
                        data-field="Prior_Attorney_Reason_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </template>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                  <lightning-combobox
                    label="Currently represented by an attorney?"
                    options={yesNoOptions}
                    value={intakeRecord.Currently_Represented__c}
                    data-field="Currently_Represented__c"
                    onchange={handleFieldChange}
                  ></lightning-combobox>
                </div>
                <template if:true={showCurrentlyRepresented}
                  ><div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Reason for seeking new attorney"
                      value={intakeRecord.Reason_Seeking_New_Attorney__c}
                      data-field="Reason_Seeking_New_Attorney__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea></div
                ></template>
              </div>
            </div>
          </lightning-tab>

          <template if:true={showCriminalLaw}>
            <lightning-tab label="Criminal Law" value="Criminal Law">
              <div class="slds-p-around_medium">
                <h4 class="form-section-header">
                  General Criminal Law Questions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="What are the charges or allegations?"
                      value={intakeRecord.CL_Charges_Allegations__c}
                      data-field="CL_Charges_Allegations__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Charge Classification"
                      options={picklistValues.CL_Charge_Classification__c}
                      value={intakeRecord.CL_Charge_Classification__c}
                      data-field="CL_Charge_Classification__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Incident Location (City/County)"
                      value={intakeRecord.CL_Incident_Location_City_County__c}
                      data-field="CL_Incident_Location_City_County__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Incident Location (State)"
                      value={intakeRecord.CL_Incident_Location_State__c}
                      data-field="CL_Incident_Location_State__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="When did the alleged incident occur?"
                      type="date"
                      value={intakeRecord.CL_Incident_Date__c}
                      data-field="CL_Incident_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Investigating Agency"
                      options={picklistValues.CL_Investigating_Agency__c}
                      value={intakeRecord.CL_Investigating_Agency__c}
                      data-field="CL_Investigating_Agency__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showCLInvestigatingAgencyPolice}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Police Department (Specify)"
                        value={intakeRecord.CL_Agency_Police_Specify__c}
                        data-field="CL_Agency_Police_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <template if:true={showCLInvestigatingAgencyOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Agency (Specify)"
                        value={intakeRecord.CL_Agency_Other_Specify__c}
                        data-field="CL_Agency_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <h4 class="form-section-header">Case Details</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has a criminal case been filed?"
                      options={yesNoOptions}
                      value={intakeRecord.CL_Case_Filed__c}
                      data-field="CL_Case_Filed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showCLCaseFiled}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Case Number"
                        value={intakeRecord.CL_Case_Number__c}
                        data-field="CL_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Court Location"
                        value={intakeRecord.CL_Court_Location__c}
                        data-field="CL_Court_Location__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <template if:true={showCLUnderInvestigation}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Is the matter under investigation?"
                        options={yesNoOptions}
                        value={intakeRecord.CL_Under_Investigation__c}
                        data-field="CL_Under_Investigation__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Case Status"
                      options={picklistValues.CL_Case_Status__c}
                      value={intakeRecord.CL_Case_Status__c}
                      data-field="CL_Case_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showCLCaseStatusOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Case Status Other (Specify)"
                        value={intakeRecord.CL_Case_Status_Other_Specify__c}
                        data-field="CL_Case_Status_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you currently in custody?"
                      options={yesNoOptions}
                      value={intakeRecord.CL_In_Custody__c}
                      data-field="CL_In_Custody__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you need help with bail or bond?"
                      options={yesNoOptions}
                      value={intakeRecord.CL_Needs_Bail_Bond_Help__c}
                      data-field="CL_Needs_Bail_Bond_Help__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      name="CL_Case_Involvement_Types__c"
                      label="Does the case involve any of the following?"
                      source-label="Available"
                      selected-label="Selected"
                      options={picklistValues.CL_Case_Involvement_Types__c}
                      value={intakeRecord.CL_Case_Involvement_Types__c}
                      onchange={handleFieldChange}
                      data-field="CL_Case_Involvement_Types__c"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showCLCaseInvolvementOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Case Involvement Other (Specify)"
                        value={intakeRecord.CL_Case_Involvement_Other_Specify__c}
                        data-field="CL_Case_Involvement_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <template if:true={showCLDUI}>
                  <h4 class="form-section-header">
                    DUI/DWI-Specific Questions
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Why were you pulled over?"
                        options={picklistValues.CL_DUI_Pulled_Over_Reason__c}
                        value={intakeRecord.CL_DUI_Pulled_Over_Reason__c}
                        data-field="CL_DUI_Pulled_Over_Reason__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showCLDUIPulledOverOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Pulled Over Reason Other (Specify)"
                          value={intakeRecord.CL_DUI_Pulled_Over_Other_Specify__c}
                          data-field="CL_DUI_Pulled_Over_Other_Specify__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="What tests were conducted (e.g., breath, blood)?"
                        value={intakeRecord.CL_DUI_Tests_Conducted__c}
                        data-field="CL_DUI_Tests_Conducted__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="What were the results of those tests?"
                        value={intakeRecord.CL_DUI_Test_Results__c}
                        data-field="CL_DUI_Test_Results__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you have prior DUI/DWI convictions?"
                        options={yesNoOptions}
                        value={intakeRecord.CL_DUI_Prior_Convictions__c}
                        data-field="CL_DUI_Prior_Convictions__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showCLDUIPriorConvictions}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Prior Convictions Details (when and where?)"
                          value={intakeRecord.CL_DUI_Prior_Convictions_Details__c}
                          data-field="CL_DUI_Prior_Convictions_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                  </div>
                </template>

                <template if:true={showCLRecordSealing}>
                  <h4 class="form-section-header">
                    Record Sealing or Expungement
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="What charges are you seeking to seal?"
                        value={intakeRecord.CL_Charges_To_Seal__c}
                        data-field="CL_Charges_To_Seal__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Was the case dismissed, or were you acquitted?"
                        options={yesNoOptions}
                        value={intakeRecord.CL_Case_Dismissed_Acquitted__c}
                        data-field="CL_Case_Dismissed_Acquitted__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Did you complete all court-ordered conditions?"
                        options={yesNoOptions}
                        value={intakeRecord.CL_Completed_Court_Conditions__c}
                        data-field="CL_Completed_Court_Conditions__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </div>
                </template>

                <template if:true={showCLDomesticViolence}>
                  <h4 class="form-section-header">
                    Domestic Violence Case Questions
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Have you been physically harmed?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Physically_Harmed__c}
                        data-field="DV_Physically_Harmed__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Most Recent Incident Date"
                        type="date"
                        value={intakeRecord.DV_Recent_Incident_Date__c}
                        data-field="DV_Recent_Incident_Date__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Most Recent Incident Location"
                        value={intakeRecord.DV_Recent_Incident_Location__c}
                        data-field="DV_Recent_Incident_Location__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Description of Most Recent Incident"
                        value={intakeRecord.DV_Recent_Incident_Description__c}
                        data-field="DV_Recent_Incident_Description__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Has this type of violence occurred before?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Violence_Occurred_Before__c}
                        data-field="DV_Violence_Occurred_Before__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="How often has it occurred?"
                        value={intakeRecord.DV_Violence_Frequency__c}
                        data-field="DV_Violence_Frequency__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Was the violence in the past or ongoing?"
                        options={picklistValues.DV_Violence_Past_Or_Ongoing__c}
                        value={intakeRecord.DV_Violence_Past_Or_Ongoing__c}
                        data-field="DV_Violence_Past_Or_Ongoing__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Current Situation Description"
                        value={intakeRecord.DV_Ongoing_Violence_Situation__c}
                        data-field="DV_Ongoing_Violence_Situation__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        name="DV_Types_Of_Abuse__c"
                        label="What type(s) of abuse have you experienced?"
                        source-label="Available"
                        selected-label="Selected"
                        options={picklistValues.DV_Types_Of_Abuse__c}
                        value={intakeRecord.DV_Types_Of_Abuse__c}
                        onchange={handleFieldChange}
                        data-field="DV_Types_Of_Abuse__c"
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showDVAbuseTypeOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other Abuse Type (Specify)"
                          value={intakeRecord.DV_Abuse_Type_Other_Specify__c}
                          data-field="DV_Abuse_Type_Other_Specify__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                  </div>

                  <h4 class="form-subsection-header">
                    Perpetrator Information
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Who is the person responsible for the abuse?"
                        options={picklistValues.DV_Perpetrator_Identity__c}
                        value={intakeRecord.DV_Perpetrator_Identity__c}
                        data-field="DV_Perpetrator_Identity__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDVPerpetratorOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Perpetrator Identity Other (Specify)"
                          value={intakeRecord.DV_Perpetrator_Identity_Other__c}
                          data-field="DV_Perpetrator_Identity_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Your relationship to the abuser"
                        options={picklistValues.DV_Relationship_To_Perpetrator__c}
                        value={intakeRecord.DV_Relationship_To_Perpetrator__c}
                        data-field="DV_Relationship_To_Perpetrator__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDVPerpetratorFamily}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Family Member Relationship (Specify)"
                          value={intakeRecord.DV_Perpetrator_Family_Specify__c}
                          data-field="DV_Perpetrator_Family_Specify__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <template if:true={showDVRelationshipOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Relationship Other (Specify)"
                          value={intakeRecord.DV_Rel_To_Perpetrator_Other_Specify__c}
                          data-field="DV_Rel_To_Perpetrator_Other_Specify__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Does the abuser live with you?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Abuser_Lives_With_You__c}
                        data-field="DV_Abuser_Lives_With_You__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="How often do they have contact with you?"
                        value={intakeRecord.DV_Abuser_Contact_Frequency__c}
                        data-field="DV_Abuser_Contact_Frequency__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you have children?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Have_Children__c}
                        data-field="DV_Have_Children__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Do children witness or are affected by abuse?"
                        value={intakeRecord.DV_Children_Witness_Abuse_Details__c}
                        data-field="DV_Children_Witness_Abuse_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Has abuser threatened to harm you or others?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Abuser_Threatened_Harm__c}
                        data-field="DV_Abuser_Threatened_Harm__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Threat Details"
                        value={intakeRecord.DV_Abuser_Threat_Details__c}
                        data-field="DV_Abuser_Threat_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </div>

                  <h4 class="form-subsection-header">
                    Safety & Risk Assessment
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Are you in immediate danger of harm?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Immediate_Danger__c}
                        data-field="DV_Immediate_Danger__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Ever been injured from abuse?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Injured_From_Abuse__c}
                        data-field="DV_Injured_From_Abuse__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Injury Details & Medical Attention"
                        value={intakeRecord.DV_Injury_Details_Medical_Attention__c}
                        data-field="DV_Injury_Details_Medical_Attention__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Has abuser threatened/attempted to use weapon?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Abuser_Threatened_Weapon__c}
                        data-field="DV_Abuser_Threatened_Weapon__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Weapon Situation Description"
                        value={intakeRecord.DV_Abuser_Weapon_Situation__c}
                        data-field="DV_Abuser_Weapon_Situation__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Are there firearms/weapons present?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Firearms_Present__c}
                        data-field="DV_Firearms_Present__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Type of Weapon(s)"
                        value={intakeRecord.DV_Firearm_Types__c}
                        data-field="DV_Firearm_Types__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </div>

                  <h4 class="form-subsection-header">Legal Actions Taken</h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Ever contacted law enforcement?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Contacted_Law_Enforcement__c}
                        data-field="DV_Contacted_Law_Enforcement__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Law Enforcement Outcome"
                        value={intakeRecord.DV_Law_Enforcement_Outcome__c}
                        data-field="DV_Law_Enforcement_Outcome__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Ever sought protection order?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Sought_Protection_Order__c}
                        data-field="DV_Sought_Protection_Order__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Was protection order granted?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Protection_Order_Granted__c}
                        data-field="DV_Protection_Order_Granted__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Current protection order in place?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Current_Protection_Order__c}
                        data-field="DV_Current_Protection_Order__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Involved in criminal case related to abuse?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Involved_In_Criminal_Case__c}
                        data-field="DV_Involved_In_Criminal_Case__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Criminal Case Details"
                        value={intakeRecord.DV_Criminal_Case_Details__c}
                        data-field="DV_Criminal_Case_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </div>

                  <h4 class="form-subsection-header">Support & Resources</h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        name="DV_Receiving_Support_Services__c"
                        label="Currently receiving support services?"
                        source-label="Available"
                        selected-label="Selected"
                        options={picklistValues.DV_Receiving_Support_Services__c}
                        value={intakeRecord.DV_Receiving_Support_Services__c}
                        onchange={handleFieldChange}
                        data-field="DV_Receiving_Support_Services__c"
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showDVSupportServicesOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other Support Services (Specify)"
                          value={intakeRecord.DV_Support_Services_Other__c}
                          data-field="DV_Support_Services_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you have a safe place to stay?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Safe_Place_To_Stay__c}
                        data-field="DV_Safe_Place_To_Stay__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Need assistance finding shelter?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Need_Shelter_Assistance__c}
                        data-field="DV_Need_Shelter_Assistance__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Want to speak with attorney about options?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Speak_With_Attorney_Options__c}
                        data-field="DV_Speak_With_Attorney_Options__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Want assistance filing protective order?"
                        options={yesNoOptions}
                        value={intakeRecord.DV_Assistance_Filing_Protective_Order__c}
                        data-field="DV_Assistance_Filing_Protective_Order__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </div>
                </template>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showFamilyLaw}>
            <lightning-tab label="Family Law" value="Family Law">
              <div class="slds-p-around_medium">
                <!-- General Family Law Questions -->
                <h4 class="form-section-header">
                  General Family Law Questions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you currently married?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Currently_Married__c}
                      data-field="FL_Currently_Married__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLCurrentlyMarried}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Type of Marriage"
                        options={familyLawMarriageTypeOptions}
                        value={intakeRecord.FL_Marriage_Type__c}
                        data-field="FL_Marriage_Type__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <template if:true={showFLNotMarried}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Marital Status"
                        options={familyLawMaritalStatusOptions}
                        value={intakeRecord.FL_Marital_Status__c}
                        data-field="FL_Marital_Status__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you and spouse/partner have children together?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Spouse_Children_Together__c}
                      data-field="FL_Spouse_Children_Together__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLSpouseChildrenTogether}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="How many children and current living arrangements?"
                        value={intakeRecord.FL_Children_Living_Arrangements__c}
                        data-field="FL_Children_Living_Arrangements__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Previously filed family law case in Colorado or other state?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Previously_Filed_Family_Case__c}
                      data-field="FL_Previously_Filed_Family_Case__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLPreviouslyFiled}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Case number, court location, and status"
                        value={intakeRecord.FL_Previous_Case_Details__c}
                        data-field="FL_Previous_Case_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                </div>

                <!-- Divorce and Legal Separation -->
                <h4 class="form-section-header">
                  Divorce and Legal Separation
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Date of Marriage"
                      type="date"
                      value={intakeRecord.FL_Marriage_Date__c}
                      data-field="FL_Marriage_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Location of Marriage (City, State or Country)"
                      value={intakeRecord.FL_Marriage_Location__c}
                      data-field="FL_Marriage_Location__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What legal remedy are you seeking?"
                      options={familyLawSeekingActionOptions}
                      value={intakeRecord.FL_Seeking_Action__c}
                      data-field="FL_Seeking_Action__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showFLSeekingActionOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Legal Remedy (Specify)"
                        value={intakeRecord.FL_Seeking_Action_Other__c}
                        data-field="FL_Seeking_Action_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Will your case involve property or debt division?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Divorce_Property_Division__c}
                      data-field="FL_Divorce_Property_Division__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLPropertyDivision}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Real Estate (home, land, etc.)"
                        value={intakeRecord.FL_Property_Division_Real_Estate__c}
                        data-field="FL_Property_Division_Real_Estate__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Vehicles"
                        value={intakeRecord.FL_Property_Division_Vehicles__c}
                        data-field="FL_Property_Division_Vehicles__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Bank or investment accounts"
                        value={intakeRecord.FL_Property_Division_Bank_Accounts__c}
                        data-field="FL_Property_Division_Bank_Accounts__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Retirement accounts or pensions (401(k), PERA, etc.)"
                        value={intakeRecord.FL_Property_Division_Retirement__c}
                        data-field="FL_Property_Division_Retirement__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Business interests"
                        value={intakeRecord.FL_Property_Division_Business__c}
                        data-field="FL_Property_Division_Business__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Credit cards, loans, or other debt"
                        value={intakeRecord.FL_Property_Division_Debt__c}
                        data-field="FL_Property_Division_Debt__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other assets or liabilities"
                        value={intakeRecord.FL_Property_Division_Other_Assets__c}
                        data-field="FL_Property_Division_Other_Assets__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is the divorce contested or uncontested?"
                      options={familyLawContestedStatusOptions}
                      value={intakeRecord.FL_Divorce_Contested_Status__c}
                      data-field="FL_Divorce_Contested_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you and your spouse attempted mediation or counseling?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Attempted_Mediation__c}
                      data-field="FL_Attempted_Mediation__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <!-- Child Custody and Support -->
                <h4 class="form-section-header">Child Custody and Support</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="number"
                      label="How many children are involved?"
                      value={intakeRecord.FL_Children_Involved_Count__c}
                      data-field="FL_Children_Involved_Count__c"
                      onchange={handleFieldChange}
                      min="0"
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you or other party have children from other relationships?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Children_Other_Relationships__c}
                      data-field="FL_Children_Other_Relationships__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Children's full names, birthdates, ages, and who they live with"
                      value={intakeRecord.FL_Children_Details__c}
                      data-field="FL_Children_Details__c"
                      onchange={handleFieldChange}
                      rows="5"
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there existing custody, visitation, or parenting time orders?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Existing_Custody_Orders__c}
                      data-field="FL_Existing_Custody_Orders__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLExistingCustodyOrders}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Court, case number, and terms of the order"
                        value={intakeRecord.FL_Existing_Custody_Details__c}
                        data-field="FL_Existing_Custody_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have concerns about child's safety, well-being, or stability?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Child_Safety_Concerns__c}
                      data-field="FL_Child_Safety_Concerns__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLChildSafetyConcerns}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Explain concerns (abuse, neglect, substance abuse, mental health)"
                        value={intakeRecord.FL_Child_Safety_Concerns_Details__c}
                        data-field="FL_Child_Safety_Concerns_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Reports made to Child Protective Services (DHS)?"
                        options={yesNoOptions}
                        value={intakeRecord.FL_CPS_Reports_Made__c}
                        data-field="FL_CPS_Reports_Made__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showFLCPSReports}>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-textarea
                          label="When and what was the outcome?"
                          value={intakeRecord.FL_CPS_Reports_Details__c}
                          data-field="FL_CPS_Reports_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea>
                      </div>
                    </template>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Are you seeking any of the following?"
                      options={familyLawSeekingCustodyOptions}
                      value={intakeRecord.FL_Seeking_Custody_Type__c}
                      data-field="FL_Seeking_Custody_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                </div>

                <!-- Additional Family Law Matters -->
                <h4 class="form-section-header">
                  Additional Family Law Matters
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Are any of the following issues involved in your case?"
                      options={familyLawAdditionalIssuesOptions}
                      value={intakeRecord.FL_Additional_Issues__c}
                      data-field="FL_Additional_Issues__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showFLAdditionalIssuesOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other issues (please describe)"
                        value={intakeRecord.FL_Additional_Issues_Other__c}
                        data-field="FL_Additional_Issues_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has the other party retained an attorney?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Other_Party_Has_Attorney__c}
                      data-field="FL_Other_Party_Has_Attorney__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLOtherPartyAttorney}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Attorney's name and contact info"
                        value={intakeRecord.FL_Other_Party_Attorney_Details__c}
                        data-field="FL_Other_Party_Attorney_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you currently represented by counsel?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Currently_Represented__c}
                      data-field="FL_Currently_Represented__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLCurrentlyRepresented}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Name of your attorney"
                        value={intakeRecord.FL_Current_Attorney_Name__c}
                        data-field="FL_Current_Attorney_Name__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Unbundled Family Law Services Screening -->
                <h4 class="form-section-header">
                  Unbundled Family Law Services Screening
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you received legal documents you don't understand and would like reviewed?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Need_Document_Review__c}
                      data-field="FL_Need_Document_Review__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLNeedDocumentReview}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        label="What type of documents?"
                        options={familyLawDocumentTypesOptions}
                        value={intakeRecord.FL_Document_Types_Review__c}
                        data-field="FL_Document_Types_Review__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showFLDocumentTypesOther}>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other document types (please describe)"
                          value={intakeRecord.FL_Document_Types_Other__c}
                          data-field="FL_Document_Types_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input>
                      </div>
                    </template>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Need help drafting or finalizing documents?"
                      options={familyLawDraftingDocumentsOptions}
                      value={intakeRecord.FL_Need_Document_Drafting__c}
                      data-field="FL_Need_Document_Drafting__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showFLNeedDocumentDrafting}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Do you have access to necessary financial documents?"
                        options={familyLawFinancialDocsAccessOptions}
                        value={intakeRecord.FL_Financial_Docs_Access__c}
                        data-field="FL_Financial_Docs_Access__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have you or other party proposed mediation?"
                      options={familyLawMediationStatusOptions}
                      value={intakeRecord.FL_Mediation_Proposed__c}
                      data-field="FL_Mediation_Proposed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLMediationProposed}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you feel prepared to participate in mediation effectively?"
                        options={yesNoOptions}
                        value={intakeRecord.FL_Prepared_For_Mediation__c}
                        data-field="FL_Prepared_For_Mediation__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Would you like assistance preparing for mediation?"
                        options={yesNoOptions}
                        value={intakeRecord.FL_Need_Mediation_Prep__c}
                        data-field="FL_Need_Mediation_Prep__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Would you want attorney to attend mediation with you?"
                        options={familyLawAttorneyMediationOptions}
                        value={intakeRecord.FL_Attorney_Attend_Mediation__c}
                        data-field="FL_Attorney_Attend_Mediation__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have any professionals been appointed in your case?"
                      options={familyLawProfessionalsAppointedOptions}
                      value={intakeRecord.FL_Professionals_Appointed__c}
                      data-field="FL_Professionals_Appointed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLProfessionalsAppointed}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-dual-listbox
                        label="Which expert is involved or being considered?"
                        options={familyLawExpertTypesOptions}
                        value={intakeRecord.FL_Expert_Types__c}
                        data-field="FL_Expert_Types__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Would you like assistance preparing for interviews, home visits, or questionnaires?"
                        options={yesNoOptions}
                        value={intakeRecord.FL_Need_Expert_Prep__c}
                        data-field="FL_Need_Expert_Prep__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Would you like help reviewing or responding to completed reports?"
                        options={yesNoOptions}
                        value={intakeRecord.FL_Need_Report_Review__c}
                        data-field="FL_Need_Report_Review__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have ongoing family law concerns for one-time consultation?"
                      options={yesNoOptions}
                      value={intakeRecord.FL_Ongoing_Concerns__c}
                      data-field="FL_Ongoing_Concerns__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showFLOngoingConcerns}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Briefly describe the issues you'd like to address"
                        value={intakeRecord.FL_Ongoing_Concerns_Details__c}
                        data-field="FL_Ongoing_Concerns_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Interested in limited-scope or unbundled legal services?"
                      options={familyLawUnbundledInterestOptions}
                      value={intakeRecord.FL_Unbundled_Interest__c}
                      data-field="FL_Unbundled_Interest__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showProbate}>
            <lightning-tab
              label="Probate/Estate Planning"
              value="Probate/Estate Planning"
            >
              <div class="slds-p-around_medium">
                <h4 class="form-section-header">Probate Questions</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Name of deceased"
                      value={intakeRecord.PE_Deceased_Name__c}
                      data-field="PE_Deceased_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Date of Death"
                      type="date"
                      value={intakeRecord.PE_Deceased_Date_Of_Death__c}
                      data-field="PE_Deceased_Date_Of_Death__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-textarea
                      label="Location of Death"
                      value={intakeRecord.PE_Deceased_Location_Of_Death__c}
                      data-field="PE_Deceased_Location_Of_Death__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Your relationship to deceased"
                      value={intakeRecord.PE_PC_Relationship_To_Deceased__c}
                      data-field="PE_PC_Relationship_To_Deceased__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Where did deceased live?"
                      value={intakeRecord.PE_Deceased_Residence_Location__c}
                      data-field="PE_Deceased_Residence_Location__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <h4 class="form-section-header">Jurisdiction</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-textarea
                      label="Did deceased own real estate in Colorado?"
                      value={intakeRecord.PE_Deceased_Own_Real_Estate_CO__c}
                      data-field="PE_Deceased_Own_Real_Estate_CO__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Jurisdiction in Colorado?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Jurisdiction_In_Colorado__c}
                      data-field="PE_Jurisdiction_In_Colorado__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Whose name is on the deed?"
                      value={intakeRecord.PE_Real_Estate_Deed_Names__c}
                      data-field="PE_Real_Estate_Deed_Names__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Estate Value Estimate (excluding beneficiary accounts)"
                      value={intakeRecord.PE_Estate_Value_Estimate__c}
                      data-field="PE_Estate_Value_Estimate__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Deceased Marital Status"
                      value={intakeRecord.PE_Deceased_Marital_Status__c}
                      data-field="PE_Deceased_Marital_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <h4 class="form-section-header">Existing Probate Case</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has probate estate been opened?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Probate_Estate_Opened__c}
                      data-field="PE_Probate_Estate_Opened__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPEProbateOpened}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-textarea
                        label="Probate Case County"
                        value={intakeRecord.PE_Probate_Case_County__c}
                        data-field="PE_Probate_Case_County__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-textarea
                        label="Case Number"
                        value={intakeRecord.PE_Probate_Case_Number__c}
                        data-field="PE_Probate_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Personal Representative Name"
                        value={intakeRecord.PE_Personal_Representative_Name__c}
                        data-field="PE_Personal_Representative_Name__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Date Appointed"
                        type="date"
                        value={intakeRecord.PE_Personal_Rep_Appointment_Date__c}
                        data-field="PE_Personal_Rep_Appointment_Date__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Probate Case Stage"
                        options={picklistValues.PE_Probate_Case_Stage__c}
                        value={intakeRecord.PE_Probate_Case_Stage__c}
                        data-field="PE_Probate_Case_Stage__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                </div>

                <h4 class="form-section-header">Decedent's Assets</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      name="PE_Decedent_Asset_Types__c"
                      label="What kind of assets did decedent have?"
                      source-label="Available"
                      selected-label="Selected"
                      options={picklistValues.PE_Decedent_Asset_Types__c}
                      value={intakeRecord.PE_Decedent_Asset_Types__c}
                      onchange={handleFieldChange}
                      data-field="PE_Decedent_Asset_Types__c"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showPEAssetOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other Assets (Specify)"
                        value={intakeRecord.PE_Decedent_Asset_Other_Specify__c}
                        data-field="PE_Decedent_Asset_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Real Estate Addresses"
                      value={intakeRecord.PE_Real_Estate_Addresses__c}
                      data-field="PE_Real_Estate_Addresses__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Other Unlisted Assets"
                      value={intakeRecord.PE_Other_Unlisted_Assets__c}
                      data-field="PE_Other_Unlisted_Assets__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <h4 class="form-section-header">Family Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Did decedent have children?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Decedent_Had_Children__c}
                      data-field="PE_Decedent_Had_Children__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are any children minors?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Decedent_Children_Minors__c}
                      data-field="PE_Decedent_Children_Minors__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are decedent's parents living?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Decedent_Parents_Living__c}
                      data-field="PE_Decedent_Parents_Living__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Does decedent have living siblings?"
                      options={yesNoOptions}
                      value={intakeRecord.PE_Decedent_Siblings_Living__c}
                      data-field="PE_Decedent_Siblings_Living__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <h4 class="form-section-header">Estate Planning</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Is this plan for you or someone else?"
                      value={intakeRecord.EP_Plan_For_Whom__c}
                      data-field="EP_Plan_For_Whom__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have you created an estate plan previously?"
                      options={yesNoOptions}
                      value={intakeRecord.EP_Previous_Estate_Plan__c}
                      data-field="EP_Previous_Estate_Plan__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      name="EP_Documents_Needed__c"
                      label="Which documents do you need assistance with?"
                      source-label="Available"
                      selected-label="Selected"
                      options={picklistValues.EP_Documents_Needed__c}
                      value={intakeRecord.EP_Documents_Needed__c}
                      onchange={handleFieldChange}
                      data-field="EP_Documents_Needed__c"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showEPDocumentsOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Documents (Specify)"
                        value={intakeRecord.EP_Documents_Needed_Other_Specify__c}
                        data-field="EP_Documents_Needed_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showRealEstate}>
            <lightning-tab label="Real Estate" value="Real Estate">
              <div class="slds-p-around_medium">
                <!-- General Real Estate Overview -->
                <h4 class="form-section-header">
                  General Real Estate Overview
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What type of real estate assistance do you need?"
                      options={realEstateAssistanceTypeOptions}
                      value={intakeRecord.RE_Assistance_Type__c}
                      data-field="RE_Assistance_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showREAssistanceOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other assistance type (Specify)"
                        value={intakeRecord.RE_Assistance_Type_Other__c}
                        data-field="RE_Assistance_Type_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Are you the:"
                      options={realEstateRoleOptions}
                      value={intakeRecord.RE_Your_Role__c}
                      data-field="RE_Your_Role__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                </div>

                <!-- Property Details -->
                <h4 class="form-section-header">Property Details</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Street"
                      value={intakeRecord.RE_Property_Street__c}
                      data-field="RE_Property_Street__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-4"
                  >
                    <lightning-input
                      label="City"
                      value={intakeRecord.RE_Property_City__c}
                      data-field="RE_Property_City__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-4"
                  >
                    <lightning-input
                      label="State"
                      value={intakeRecord.RE_Property_State__c}
                      data-field="RE_Property_State__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-4"
                  >
                    <lightning-input
                      label="ZIP Code"
                      value={intakeRecord.RE_Property_ZIP__c}
                      data-field="RE_Property_ZIP__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-4"
                  >
                    <lightning-input
                      label="County"
                      value={intakeRecord.RE_Property_County__c}
                      data-field="RE_Property_County__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Type of Property"
                      options={realEstatePropertyTypeOptions}
                      value={intakeRecord.RE_Property_Type__c}
                      data-field="RE_Property_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREPropertyTypeOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other property type (Specify)"
                        value={intakeRecord.RE_Property_Type_Other__c}
                        data-field="RE_Property_Type_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is the property currently under contract?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Property_Under_Contract__c}
                      data-field="RE_Property_Under_Contract__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you working with a realtor?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Working_With_Realtor__c}
                      data-field="RE_Working_With_Realtor__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRERealtorInfo}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Realtor Name/Contact"
                        value={intakeRecord.RE_Realtor_Info__c}
                        data-field="RE_Realtor_Info__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Purchase or Sale of Property -->
                <h4 class="form-section-header">
                  Purchase or Sale of Property
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Purchase or sale price (or estimated market value)"
                      type="number"
                      formatter="currency"
                      value={intakeRecord.RE_Purchase_Sale_Price__c}
                      data-field="RE_Purchase_Sale_Price__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="What type of financing is being used?"
                      options={realEstateFinancingTypeOptions}
                      value={intakeRecord.RE_Financing_Type__c}
                      data-field="RE_Financing_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREFinancingOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other financing type (Specify)"
                        value={intakeRecord.RE_Financing_Type_Other__c}
                        data-field="RE_Financing_Type_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Proposed or actual closing date"
                      type="date"
                      value={intakeRecord.RE_Closing_Date__c}
                      data-field="RE_Closing_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <!-- Lease Agreements -->
                <h4 class="form-section-header">Lease Agreements</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="What type of lease is involved?"
                      options={realEstateLeaseTypeOptions}
                      value={intakeRecord.RE_Lease_Type__c}
                      data-field="RE_Lease_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRELeaseTypeOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other lease type (Specify)"
                        value={intakeRecord.RE_Lease_Type_Other__c}
                        data-field="RE_Lease_Type_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      label="Lease Start Date"
                      type="date"
                      value={intakeRecord.RE_Lease_Start_Date__c}
                      data-field="RE_Lease_Start_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      label="Lease End Date"
                      type="date"
                      value={intakeRecord.RE_Lease_End_Date__c}
                      data-field="RE_Lease_End_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      label="Monthly Rent"
                      type="number"
                      formatter="currency"
                      value={intakeRecord.RE_Monthly_Rent__c}
                      data-field="RE_Monthly_Rent__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there specific terms/concerns needing review or custom drafting?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Specific_Lease_Terms__c}
                      data-field="RE_Specific_Lease_Terms__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRELeaseTerms}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe specific terms/concerns"
                        value={intakeRecord.RE_Specific_Lease_Terms_Details__c}
                        data-field="RE_Specific_Lease_Terms_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                </div>

                <!-- Real Estate Disputes -->
                <h4 class="form-section-header">Real Estate Disputes</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What is the nature of the dispute?"
                      options={realEstateDisputeNatureOptions}
                      value={intakeRecord.RE_Dispute_Nature__c}
                      data-field="RE_Dispute_Nature__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showREDisputeOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other dispute nature (Specify)"
                        value={intakeRecord.RE_Dispute_Nature_Other__c}
                        data-field="RE_Dispute_Nature_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Has any legal action already been taken?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Legal_Action_Taken__c}
                      data-field="RE_Legal_Action_Taken__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRELegalActionTaken}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe legal action taken"
                        value={intakeRecord.RE_Legal_Action_Details__c}
                        data-field="RE_Legal_Action_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is litigation ongoing or contemplated?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Litigation_Status__c}
                      data-field="RE_Litigation_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRELitigationStatus}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Case status/details"
                        value={intakeRecord.RE_Litigation_Details__c}
                        data-field="RE_Litigation_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                </div>

                <!-- Partition Actions / Equity Contributions -->
                <h4 class="form-section-header">
                  Partition Actions / Equity Contributions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you a co-owner of the property?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Co_Owner__c}
                      data-field="RE_Co_Owner__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRECoOwner}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Name(s) on title"
                        value={intakeRecord.RE_Names_On_Title__c}
                        data-field="RE_Names_On_Title__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Were you in a personal relationship with someone on title?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Personal_Relationship__c}
                      data-field="RE_Personal_Relationship__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREPersonalRelationship}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe nature/duration of relationship"
                        value={intakeRecord.RE_Relationship_Details__c}
                        data-field="RE_Relationship_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you contributed financially to the property?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Financial_Contributions__c}
                      data-field="RE_Financial_Contributions__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREFinancialContributions}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        label="Describe contributions (select all that apply)"
                        options={realEstateContributionsOptions}
                        value={intakeRecord.RE_Contribution_Types__c}
                        data-field="RE_Contribution_Types__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showREContributionsOther}>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Other contributions (Specify)"
                          value={intakeRecord.RE_Contribution_Types_Other__c}
                          data-field="RE_Contribution_Types_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea>
                      </div>
                    </template>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have records of your contributions?"
                      options={realEstateRecordsOptions}
                      value={intakeRecord.RE_Have_Records__c}
                      data-field="RE_Have_Records__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Are you seeking:"
                      options={realEstateSeekingOptions}
                      value={intakeRecord.RE_Seeking__c}
                      data-field="RE_Seeking__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showRESeekingOther}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other relief sought (Specify)"
                        value={intakeRecord.RE_Seeking_Other__c}
                        data-field="RE_Seeking_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is there a written or verbal agreement regarding ownership?"
                      options={realEstateAgreementOptions}
                      value={intakeRecord.RE_Ownership_Agreement__c}
                      data-field="RE_Ownership_Agreement__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREOwnershipAgreement}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Provide agreement details"
                        value={intakeRecord.RE_Agreement_Details__c}
                        data-field="RE_Agreement_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are all parties still living in the property?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_All_Parties_Living__c}
                      data-field="RE_All_Parties_Living__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRENotAllLiving}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Who currently resides there?"
                        value={intakeRecord.RE_Current_Residents__c}
                        data-field="RE_Current_Residents__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is there a mortgage or lien on the property?"
                      options={realEstateMortgageLienOptions}
                      value={intakeRecord.RE_Mortgage_Lien__c}
                      data-field="RE_Mortgage_Lien__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREMortgageLien}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Name of lender"
                        value={intakeRecord.RE_Lender_Name__c}
                        data-field="RE_Lender_Name__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Additional Real Estate Considerations -->
                <h4 class="form-section-header">
                  Additional Real Estate Considerations
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there environmental, title, or zoning concerns?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Environmental_Title_Zoning__c}
                      data-field="RE_Environmental_Title_Zoning__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREEnvironmentalTitleZoning}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Explain environmental, title, or zoning concerns"
                        value={intakeRecord.RE_Environmental_Title_Zoning_Details__c}
                        data-field="RE_Environmental_Title_Zoning_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is the property in a homeowner's association (HOA)?"
                      options={yesNoOptions}
                      value={intakeRecord.RE_Property_In_HOA__c}
                      data-field="RE_Property_In_HOA__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREPropertyInHOA}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you have access to HOA bylaws, covenants, and rules?"
                        options={yesNoOptions}
                        value={intakeRecord.RE_Access_to_HOA_Docs__c}
                        data-field="RE_Access_to_HOA_Docs__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have a survey, title report, or appraisal?"
                      options={realEstateDocumentsOptions}
                      value={intakeRecord.RE_Have_Documents__c}
                      data-field="RE_Have_Documents__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showREHaveDocuments}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Type of documents you have"
                        value={intakeRecord.RE_Document_Types__c}
                        data-field="RE_Document_Types__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there any known liens, tax issues, or pending foreclosures?"
                      options={realEstateLiensTaxOptions}
                      value={intakeRecord.RE_Liens_Tax_Foreclosure__c}
                      data-field="RE_Liens_Tax_Foreclosure__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showRELiensTaxForeclosure}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Explain liens, tax issues, or foreclosure details"
                        value={intakeRecord.RE_Liens_Tax_Foreclosure_Details__c}
                        data-field="RE_Liens_Tax_Foreclosure_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showPersonalInjury}>
            <lightning-tab label="Personal Injury" value="Personal Injury">
              <div class="slds-p-around_medium">
                <h4 class="form-section-header">Incident Details</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Describe the incident"
                      value={intakeRecord.PI_Incident_Description__c}
                      data-field="PI_Incident_Description__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Date of Incident"
                      type="date"
                      value={intakeRecord.PI_Incident_Date__c}
                      data-field="PI_Incident_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Time of Incident"
                      type="time"
                      value={intakeRecord.PI_Incident_Time__c}
                      data-field="PI_Incident_Time__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Location Address/Area"
                      value={intakeRecord.PI_Incident_Location_Address__c}
                      data-field="PI_Incident_Location_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="City/County/State"
                      value={intakeRecord.PI_Incident_Location_City_County_State__c}
                      data-field="PI_Incident_Location_City_County_State__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Were you the:"
                      options={picklistValues.PI_Your_Role__c}
                      value={intakeRecord.PI_Your_Role__c}
                      data-field="PI_Your_Role__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIYourRoleOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Your Role Other (Specify)"
                        value={intakeRecord.PI_Your_Role_Other_Specify__c}
                        data-field="PI_Your_Role_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <h4 class="form-section-header">
                  Injuries and Medical Treatment
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="What injuries were sustained?"
                      value={intakeRecord.PI_Injuries_Sustained__c}
                      data-field="PI_Injuries_Sustained__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Received medical treatment?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Received_Medical_Treatment__c}
                      data-field="PI_Received_Medical_Treatment__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIMedicalTreatment}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Medical Treatment Details"
                        value={intakeRecord.PI_Medical_Treatment_Details__c}
                        data-field="PI_Medical_Treatment_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Currently undergoing treatment?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Currently_Undergoing_Treatment__c}
                      data-field="PI_Currently_Undergoing_Treatment__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have records of medical expenses?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Records_Medical_Expenses__c}
                      data-field="PI_Records_Medical_Expenses__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <h4 class="form-section-header">Witnesses and Evidence</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Were there witnesses?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Incident_Witnesses__c}
                      data-field="PI_Incident_Witnesses__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIWitnesses}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Witness Names and Contact Info"
                        value={intakeRecord.PI_Witness_Info__c}
                        data-field="PI_Witness_Info__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Was police report filed?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Police_Report_Filed__c}
                      data-field="PI_Police_Report_Filed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIPoliceReport}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Report Number or Details"
                        value={intakeRecord.PI_Police_Report_Details__c}
                        data-field="PI_Police_Report_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have photos/videos/documentation?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Has_Documentation__c}
                      data-field="PI_Has_Documentation__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <h4 class="form-section-header">Insurance Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have insurance coverage?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Has_Insurance_Coverage__c}
                      data-field="PI_Has_Insurance_Coverage__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIInsurance}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Your Insurance Company and Policy #"
                        value={intakeRecord.PI_Your_Insurance_Info__c}
                        data-field="PI_Your_Insurance_Info__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Other party has insurance?"
                      options={yesNoOptions}
                      value={intakeRecord.PI_Other_Party_Has_Insurance__c}
                      data-field="PI_Other_Party_Has_Insurance__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIOtherInsurance}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other Party Insurance Info"
                        value={intakeRecord.PI_Other_Party_Insurance_Info__c}
                        data-field="PI_Other_Party_Insurance_Info__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <h4 class="form-section-header">Damages</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      name="PI_Damages_Sought__c"
                      label="What types of damages are you seeking?"
                      options={picklistValues.PI_Damages_Sought__c}
                      value={intakeRecord.PI_Damages_Sought__c}
                      onchange={handleFieldChange}
                      data-field="PI_Damages_Sought__c"
                    ></lightning-combobox>
                  </div>
                  <template if:true={showPIDamagesSoughtOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other Damages (Specify)"
                        value={intakeRecord.PI_Damages_Sought_Other_Specify__c}
                        data-field="PI_Damages_Sought_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showCivilLitigation}>
            <lightning-tab label="Civil Litigation" value="Civil Litigation">
              <div class="slds-p-around_medium">
                <h4 class="form-section-header">
                  General Civil Dispute Questions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Describe the nature of the dispute"
                      value={intakeRecord.CLIT_Dispute_Nature__c}
                      data-field="CLIT_Dispute_Nature__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Estimated value of damages"
                      type="number"
                      formatter="currency"
                      value={intakeRecord.CLIT_Estimated_Damages_Value__c}
                      data-field="CLIT_Estimated_Damages_Value__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Basis for the claim"
                      options={picklistValues.CLIT_Claim_Basis__c}
                      value={intakeRecord.CLIT_Claim_Basis__c}
                      data-field="CLIT_Claim_Basis__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showCLITClaimBasisOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Claim Basis Other (Specify)"
                        value={intakeRecord.CLIT_Claim_Basis_Other_Specify__c}
                        data-field="CLIT_Claim_Basis_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have any lawsuits been filed?"
                      options={yesNoOptions}
                      value={intakeRecord.CLIT_Lawsuits_Filed__c}
                      data-field="CLIT_Lawsuits_Filed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showCLITLawsuitsFiled}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Case number, court name, and location"
                        value={intakeRecord.CLIT_Lawsuit_Details__c}
                        data-field="CLIT_Lawsuit_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you the plaintiff or defendant?"
                      options={picklistValues.CLIT_Plaintiff_Or_Defendant__c}
                      value={intakeRecord.CLIT_Plaintiff_Or_Defendant__c}
                      data-field="CLIT_Plaintiff_Or_Defendant__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showEmploymentLaw}>
            <lightning-tab label="Employment Law" value="Employment Law">
              <div class="slds-p-around_medium">
                <!-- Employment Issue Overview -->
                <h4 class="form-section-header">Employment Issue Overview</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      name="EMPL_Employment_Issue_Type__c"
                      label="What type of employment issue are you facing?"
                      options={employmentIssueTypeOptions}
                      value={intakeRecord.EMPL_Employment_Issue_Type__c}
                      onchange={handleFieldChange}
                      data-field="EMPL_Employment_Issue_Type__c"
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLIssueOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Employment Issue Other (Specify)"
                        value={intakeRecord.EMPL_Issue_Other_Specify__c}
                        data-field="EMPL_Issue_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Please describe the issue in detail"
                      value={intakeRecord.EMPL_Issue_Description__c}
                      data-field="EMPL_Issue_Description__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <!-- Timeline and Stage -->
                <h4 class="form-section-header">
                  Timeline and Stage of the Issue
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="date"
                      label="When did the issue begin?"
                      value={intakeRecord.EMPL_Issue_Start_Date__c}
                      data-field="EMPL_Issue_Start_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Current status of your issue"
                      options={employmentIssueStageOptions}
                      value={intakeRecord.EMPL_Issue_Stage__c}
                      data-field="EMPL_Issue_Stage__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you filed a complaint with any government agency?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Filed_Gov_Complaint__c}
                      data-field="EMPL_Filed_Gov_Complaint__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLGovComplaint}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Which agency?"
                        value={intakeRecord.EMPL_Gov_Agency__c}
                        data-field="EMPL_Gov_Agency__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <template if:true={showEMPLGovComplaint}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Case Number or Reference"
                        value={intakeRecord.EMPL_Gov_Case_Number__c}
                        data-field="EMPL_Gov_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- Employer Actions -->
                <h4 class="form-section-header">
                  Details About Employer's Actions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Has your employer provided a reason for termination or disciplinary action?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Employer_Reason_Given__c}
                      data-field="EMPL_Employer_Reason_Given__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLEmployerReason}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please specify the reason given"
                        value={intakeRecord.EMPL_Employer_Reason_Details__c}
                        data-field="EMPL_Employer_Reason_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you received any warnings, reprimands, or performance reviews?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Received_Warnings__c}
                      data-field="EMPL_Received_Warnings__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLWarnings}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please explain the warnings or reviews"
                        value={intakeRecord.EMPL_Warning_Details__c}
                        data-field="EMPL_Warning_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you been given a severance package or settlement offer?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Severance_Offered__c}
                      data-field="EMPL_Severance_Offered__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLSeverance}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please provide details of the severance/settlement"
                        value={intakeRecord.EMPL_Severance_Details__c}
                        data-field="EMPL_Severance_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- Compensation and Benefits -->
                <h4 class="form-section-header">Compensation and Benefits</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="number"
                      label="Regular pay rate ($)"
                      value={intakeRecord.EMPL_Pay_Rate__c}
                      data-field="EMPL_Pay_Rate__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Pay frequency"
                      options={employmentPayFrequencyOptions}
                      value={intakeRecord.EMPL_Pay_Frequency__c}
                      data-field="EMPL_Pay_Frequency__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there unpaid wages, overtime, commissions, or bonuses owed?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Unpaid_Wages__c}
                      data-field="EMPL_Unpaid_Wages__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLUnpaidWages}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="number"
                        label="Estimated unpaid amount ($)"
                        value={intakeRecord.EMPL_Unpaid_Amount__c}
                        data-field="EMPL_Unpaid_Amount__c"
                        onchange={handleFieldChange}
                        step="0.01"
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Were you classified as exempt or non-exempt from overtime?"
                      options={employmentOvertimeClassificationOptions}
                      value={intakeRecord.EMPL_Overtime_Classification__c}
                      data-field="EMPL_Overtime_Classification__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Current employment benefits"
                      options={employmentCurrentBenefitsOptions}
                      value={intakeRecord.EMPL_Current_Benefits__c}
                      data-field="EMPL_Current_Benefits__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                </div>

                <!-- Retaliation and Workplace Environment -->
                <h4 class="form-section-header">
                  Retaliation and Workplace Environment
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Did you report misconduct, safety issues, discrimination, or harassment?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Reported_Misconduct__c}
                      data-field="EMPL_Reported_Misconduct__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLReportedMisconduct}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="To whom did you report? Please describe"
                        value={intakeRecord.EMPL_Report_Details__c}
                        data-field="EMPL_Report_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Since reporting, did you experience any negative treatment or retaliation?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Experienced_Retaliation__c}
                      data-field="EMPL_Experienced_Retaliation__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLRetaliation}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please describe the retaliation"
                        value={intakeRecord.EMPL_Retaliation_Details__c}
                        data-field="EMPL_Retaliation_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Describe the overall work environment"
                      options={employmentWorkEnvironmentOptions}
                      value={intakeRecord.EMPL_Work_Environment__c}
                      data-field="EMPL_Work_Environment__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                </div>

                <!-- Legal and Procedural Information -->
                <h4 class="form-section-header">
                  Legal and Procedural Information
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have a written employment contract or offer letter?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Has_Contract__c}
                      data-field="EMPL_Has_Contract__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you signed any arbitration agreements or non-compete clauses?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Signed_Agreements__c}
                      data-field="EMPL_Signed_Agreements__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLSignedAgreements}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please describe the agreements signed"
                        value={intakeRecord.EMPL_Agreement_Details__c}
                        data-field="EMPL_Agreement_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you currently represented by another attorney?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Has_Attorney__c}
                      data-field="EMPL_Has_Attorney__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLHasAttorney}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please provide attorney details"
                        value={intakeRecord.EMPL_Attorney_Details__c}
                        data-field="EMPL_Attorney_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- EEOC or Agency Involvement -->
                <h4 class="form-section-header">EEOC or Agency Involvement</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you filed a complaint or charge with the EEOC or similar agency?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Filed_EEOC_Complaint__c}
                      data-field="EMPL_Filed_EEOC_Complaint__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLEEOCComplaint}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="date"
                        label="Date you filed the complaint"
                        value={intakeRecord.EMPL_EEOC_File_Date__c}
                        data-field="EMPL_EEOC_File_Date__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="What agency did you file with?"
                        options={employmentFilingAgencyOptions}
                        value={intakeRecord.EMPL_Filing_Agency__c}
                        data-field="EMPL_Filing_Agency__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Have you received any correspondence or decisions from the agency?"
                        options={yesNoOptions}
                        value={intakeRecord.EMPL_Received_Agency_Response__c}
                        data-field="EMPL_Received_Agency_Response__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                </div>

                <!-- EEOC Right to Sue Notice -->
                <h4 class="form-section-header">EEOC Right to Sue Notice</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you received a 'Right to Sue' letter from the EEOC or state agency?"
                      options={yesNoOptions}
                      value={intakeRecord.EMPL_Received_Right_To_Sue__c}
                      data-field="EMPL_Received_Right_To_Sue__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showEMPLRightToSue}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="date"
                        label="Date on the Right to Sue letter"
                        value={intakeRecord.EMPL_Right_To_Sue_Date__c}
                        data-field="EMPL_Right_To_Sue_Date__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Have you filed a lawsuit following the Right to Sue letter?"
                        options={yesNoOptions}
                        value={intakeRecord.EMPL_Filed_Lawsuit__c}
                        data-field="EMPL_Filed_Lawsuit__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        type="file"
                        label="Upload Right to Sue letter (if available)"
                        data-field="EMPL_Right_To_Sue_Upload__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Desired Outcomes -->
                <h4 class="form-section-header">Desired Outcomes</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      name="EMPL_Desired_Outcome__c"
                      label="What outcome are you seeking?"
                      source-label="Available"
                      selected-label="Selected"
                      options={picklistValues.EMPL_Desired_Outcome__c}
                      value={intakeRecord.EMPL_Desired_Outcome__c}
                      onchange={handleFieldChange}
                      data-field="EMPL_Desired_Outcome__c"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showEMPLOutcomeOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Desired Outcome Other (Specify)"
                        value={intakeRecord.EMPL_Desired_Outcome_Other_Specify__c}
                        data-field="EMPL_Desired_Outcome_Other_Specify__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- Additional Information -->
                <h4 class="form-section-header">Additional Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Is there anything else you want us to know?"
                      value={intakeRecord.EMPL_Additional_Info__c}
                      data-field="EMPL_Additional_Info__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showBusinessLaw}>
            <lightning-tab label="Business" value="Business">
              <div class="slds-p-around_medium">
                <h4 class="form-section-header">
                  Business Partner Dispute (Pre-Litigation)
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Specific Legal Assistance"
                      options={picklistValues.BUS_Partner_Dispute_Assistance__c}
                      value={intakeRecord.BUS_Partner_Dispute_Assistance__c}
                      data-field="BUS_Partner_Dispute_Assistance__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Signed Governing Document?"
                      options={yesNoOptions}
                      value={intakeRecord.BUS_Partner_Dispute_Has_Gov_Doc__c}
                      data-field="BUS_Partner_Dispute_Has_Gov_Doc__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Documents to Review"
                      value={intakeRecord.BUS_Partner_Dispute_Docs_To_Review__c}
                      data-field="BUS_Partner_Dispute_Docs_To_Review__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <h4 class="form-section-header">Contract Drafting</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Type of Contract to Draft"
                      options={picklistValues.BUS_Contract_Draft_Type__c}
                      value={intakeRecord.BUS_Contract_Draft_Type__c}
                      data-field="BUS_Contract_Draft_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showBusContractDraftTypeOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Contract Type (Specify)"
                        value={intakeRecord.BUS_Contract_Draft_Type_Other__c}
                        data-field="BUS_Contract_Draft_Type_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have Version to Revise?"
                      options={yesNoOptions}
                      value={intakeRecord.BUS_Contract_Draft_Has_Revision__c}
                      data-field="BUS_Contract_Draft_Has_Revision__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <h4 class="form-section-header">Creation of Business</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Type of Business to Create"
                      value={intakeRecord.BUS_Create_Business_Type__c}
                      data-field="BUS_Create_Business_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="number"
                      label="How Many People Involved"
                      value={intakeRecord.BUS_Create_People_Involved_Count__c}
                      data-field="BUS_Create_People_Involved_Count__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Desired Business Name"
                      value={intakeRecord.BUS_Create_Desired_Name__c}
                      data-field="BUS_Create_Desired_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <h4 class="form-section-header">Dissolution of Business</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Name of Business to Dissolve"
                      value={intakeRecord.BUS_Dissolve_Business_Name__c}
                      data-field="BUS_Dissolve_Business_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="number"
                      label="How Many People Involved"
                      value={intakeRecord.BUS_Dissolve_People_Involved_Count__c}
                      data-field="BUS_Dissolve_People_Involved_Count__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Reason for Dissolution"
                      value={intakeRecord.BUS_Dissolve_Reason__c}
                      data-field="BUS_Dissolve_Reason__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <h4 class="form-section-header">Document Review</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Types of Documents to Review"
                      value={intakeRecord.BUS_Doc_Review_Types__c}
                      data-field="BUS_Doc_Review_Types__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      type="number"
                      label="Total Page Count for Review"
                      value={intakeRecord.BUS_Doc_Review_Page_Count__c}
                      data-field="BUS_Doc_Review_Page_Count__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <h4 class="form-section-header">General Contract Review</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Contracts to Review"
                      value={intakeRecord.BUS_Gen_Contract_Review_Contracts__c}
                      data-field="BUS_Gen_Contract_Review_Contracts__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      type="number"
                      label="Total Page Count for Review"
                      value={intakeRecord.BUS_Gen_Contract_Review_Page_Count__c}
                      data-field="BUS_Gen_Contract_Review_Page_Count__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <h4 class="form-section-header">Purchase/Sale of Business</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Purchasing or Selling?"
                      options={picklistValues.BUS_Purchase_Or_Sale__c}
                      value={intakeRecord.BUS_Purchase_Or_Sale__c}
                      data-field="BUS_Purchase_Or_Sale__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Contract Status"
                      options={picklistValues.BUS_Purchase_Sale_Contract_Status__c}
                      value={intakeRecord.BUS_Purchase_Sale_Contract_Status__c}
                      data-field="BUS_Purchase_Sale_Contract_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Business Name/Type"
                      value={intakeRecord.BUS_Purchase_Sale_Business_Name_Type__c}
                      data-field="BUS_Purchase_Sale_Business_Name_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="number"
                      formatter="currency"
                      label="Purchase/Sale Price"
                      value={intakeRecord.BUS_Purchase_Sale_Price__c}
                      data-field="BUS_Purchase_Sale_Price__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What's Included in Sale/Purchase"
                      options={picklistValues.BUS_Purchase_Sale_Inclusions__c}
                      value={intakeRecord.BUS_Purchase_Sale_Inclusions__c}
                      data-field="BUS_Purchase_Sale_Inclusions__c"
                      onchange={handleFieldChange}
                      source-label="Available"
                      selected-label="Selected"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showBusPurchaseSaleInclusionsOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Inclusions (Specify)"
                        value={intakeRecord.BUS_Purchase_Sale_Inclusions_Other__c}
                        data-field="BUS_Purchase_Sale_Inclusions_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showLandlordTenant}>
            <lightning-tab label="Landlord-Tenant" value="Landlord-Tenant">
              <div class="slds-p-around_medium">
                <!-- General Information -->
                <h4 class="form-section-header">General Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you the:"
                      options={ltRoleOptions}
                      value={intakeRecord.LT_Role__c}
                      data-field="LT_Role__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Property Address"
                      value={intakeRecord.LT_Property_Address__c}
                      data-field="LT_Property_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Monthly Rent Amount"
                      type="number"
                      formatter="currency"
                      value={intakeRecord.LT_Monthly_Rent_Amount__c}
                      data-field="LT_Monthly_Rent_Amount__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Lease Term Type"
                      options={ltLeaseTermTypeOptions}
                      value={intakeRecord.LT_Lease_Term_Type__c}
                      data-field="LT_Lease_Term_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you have a written lease agreement?"
                      options={ltWrittenLeaseOptions}
                      value={intakeRecord.LT_Written_Lease__c}
                      data-field="LT_Written_Lease__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="What stage is this matter?"
                      options={ltStageOptions}
                      value={intakeRecord.LT_Stage__c}
                      data-field="LT_Stage__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>

                <!-- Landlord-Specific Sections -->
                <template if:true={showLandlordSections}>
                  <!-- A. Transactional Services (Landlord) -->
                  <template if:true={showLandlordTransactional}>
                    <h4 class="form-section-header">
                      Transactional Services (Lease Drafting / Property
                      Management Support)
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Name of Property Owner"
                          value={intakeRecord.LT_Property_Owner_Name__c}
                          data-field="LT_Property_Owner_Name__c"
                          onchange={handleFieldChange}
                        ></lightning-input>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Property Ownership Type"
                          options={ltOwnershipTypeOptions}
                          value={intakeRecord.LT_Ownership_Type__c}
                          data-field="LT_Ownership_Type__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showLandlordOwnershipTypeOther}
                        ><div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Other Ownership Type (Specify)"
                            value={intakeRecord.LT_Ownership_Type_Other__c}
                            data-field="LT_Ownership_Type_Other__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <template if:true={showLandlordEntityFields}
                        ><div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Name of Entity"
                            value={intakeRecord.LT_Entity_Name__c}
                            data-field="LT_Entity_Name__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <template if:true={showLandlordEntityFields}
                        ><div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="State of Formation"
                            value={intakeRecord.LT_Entity_State__c}
                            data-field="LT_Entity_State__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-dual-listbox
                          label="What services do you need?"
                          options={ltLandlordServicesOptions}
                          value={intakeRecord.LT_Landlord_Services__c}
                          data-field="LT_Landlord_Services__c"
                          onchange={handleFieldChange}
                          source-label="Available"
                          selected-label="Selected"
                        ></lightning-dual-listbox>
                      </div>
                      <template if:true={showLandlordServicesOther}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-input
                            label="Other Services (Specify)"
                            value={intakeRecord.LT_Landlord_Services_Other__c}
                            data-field="LT_Landlord_Services_Other__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you use standard lease templates?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Standard_Templates__c}
                          data-field="LT_Standard_Templates__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showLandlordTemplateSource}
                        ><div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Template Source"
                            value={intakeRecord.LT_Template_Source__c}
                            data-field="LT_Template_Source__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you include disclosures in your lease?"
                          options={ltDisclosuresOptions}
                          value={intakeRecord.LT_Lease_Disclosures__c}
                          data-field="LT_Lease_Disclosures__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Special terms or clauses you'd like drafted or reviewed"
                          value={intakeRecord.LT_Special_Terms__c}
                          data-field="LT_Special_Terms__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea>
                      </div>
                    </div>
                  </template>

                  <!-- B. Pre-Litigation (Landlord) -->
                  <template if:true={showLandlordPreLitigation}>
                    <h4 class="form-section-header">
                      Pre-Litigation (Notice Stage / Lease Violations / Rent
                      Issues)
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you currently have an active issue with a tenant?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Active_Tenant_Issue__c}
                          data-field="LT_Active_Tenant_Issue__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showLandlordActiveIssue}>
                        <div class="slds-col slds-size_1-of-1">
                          <lightning-dual-listbox
                            label="Nature of current issue"
                            options={ltIssueNatureOptions}
                            value={intakeRecord.LT_Issue_Nature__c}
                            data-field="LT_Issue_Nature__c"
                            onchange={handleFieldChange}
                            source-label="Available"
                            selected-label="Selected"
                          ></lightning-dual-listbox>
                        </div>
                        <template if:true={showLandlordIssueNatureOther}
                          ><div class="slds-col slds-size_1-of-1">
                            <lightning-input
                              label="Other Issue (Specify)"
                              value={intakeRecord.LT_Issue_Nature_Other__c}
                              data-field="LT_Issue_Nature_Other__c"
                              onchange={handleFieldChange}
                            ></lightning-input></div
                        ></template>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-combobox
                            label="Have you issued a notice to cure or quit?"
                            options={ltNoticeIssuedOptions}
                            value={intakeRecord.LT_Notice_Issued__c}
                            data-field="LT_Notice_Issued__c"
                            onchange={handleFieldChange}
                          ></lightning-combobox>
                        </div>
                        <template if:true={showLandlordNoticeDate}
                          ><div
                            class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                          >
                            <lightning-input
                              type="date"
                              label="Date Notice Issued"
                              value={intakeRecord.LT_Notice_Date__c}
                              data-field="LT_Notice_Date__c"
                              onchange={handleFieldChange}
                            ></lightning-input></div
                        ></template>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-combobox
                            label="Have you accepted partial rent payments after a breach?"
                            options={yesNoNAOptions}
                            value={intakeRecord.LT_Partial_Rent_Accepted__c}
                            data-field="LT_Partial_Rent_Accepted__c"
                            onchange={handleFieldChange}
                          ></lightning-combobox>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-combobox
                            label="Have you previously filed an eviction?"
                            options={yesNoOptions}
                            value={intakeRecord.LT_Previous_Eviction__c}
                            data-field="LT_Previous_Eviction__c"
                            onchange={handleFieldChange}
                          ></lightning-combobox>
                        </div>
                        <template if:true={showLandlordPreviousEviction}
                          ><div class="slds-col slds-size_1-of-1">
                            <lightning-input
                              label="Previous Eviction Details (County and Outcome)"
                              value={intakeRecord.LT_Previous_Eviction_Details__c}
                              data-field="LT_Previous_Eviction_Details__c"
                              onchange={handleFieldChange}
                            ></lightning-input></div
                        ></template>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-combobox
                            label="Have you attempted mediation or dispute resolution?"
                            options={yesNoOptions}
                            value={intakeRecord.LT_Mediation_Attempted__c}
                            data-field="LT_Mediation_Attempted__c"
                            onchange={handleFieldChange}
                          ></lightning-combobox>
                        </div>
                        <template if:true={showLandlordMediationOutcome}
                          ><div class="slds-col slds-size_1-of-1">
                            <lightning-input
                              label="Mediation Outcome"
                              value={intakeRecord.LT_Mediation_Outcome__c}
                              data-field="LT_Mediation_Outcome__c"
                              onchange={handleFieldChange}
                            ></lightning-input></div
                        ></template>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-combobox
                            label="What do you want to pursue?"
                            options={ltPursueOptions}
                            value={intakeRecord.LT_Pursue_Goal__c}
                            data-field="LT_Pursue_Goal__c"
                            onchange={handleFieldChange}
                          ></lightning-combobox>
                        </div>
                      </template>
                    </div>
                  </template>

                  <!-- C. Litigation Stage (Landlord) -->
                  <template if:true={showLandlordLitigation}>
                    <h4 class="form-section-header">
                      Litigation Stage (Eviction Court / Active Disputes)
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Has an eviction action already been filed?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Eviction_Filed__c}
                          data-field="LT_Eviction_Filed__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showLandlordEvictionDetails}>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="County Filed In"
                            value={intakeRecord.LT_Filing_County__c}
                            data-field="LT_Filing_County__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Case Number"
                            value={intakeRecord.LT_Case_Number__c}
                            data-field="LT_Case_Number__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            type="date"
                            label="Date Filed"
                            value={intakeRecord.LT_Filing_Date__c}
                            data-field="LT_Filing_Date__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-1">
                          <lightning-input
                            label="Current Status"
                            value={intakeRecord.LT_Current_Status__c}
                            data-field="LT_Current_Status__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                      </template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Are you requesting a Writ of Restitution or Sheriff Lockout?"
                          options={ltWritOptions}
                          value={intakeRecord.LT_Writ_Requested__c}
                          data-field="LT_Writ_Requested__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you need representation in court?"
                          options={ltRepresentationOptions}
                          value={intakeRecord.LT_Court_Representation__c}
                          data-field="LT_Court_Representation__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Is the tenant asserting any legal defenses?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Tenant_Defenses__c}
                          data-field="LT_Tenant_Defenses__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showLandlordTenantDefenses}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-textarea
                            label="Describe tenant defenses or counterclaims"
                            value={intakeRecord.LT_Tenant_Defenses_Details__c}
                            data-field="LT_Tenant_Defenses_Details__c"
                            onchange={handleFieldChange}
                          ></lightning-textarea></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Is there a settlement offer being discussed?"
                          options={ltSettlementOptions}
                          value={intakeRecord.LT_Settlement_Discussion__c}
                          data-field="LT_Settlement_Discussion__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                    </div>
                  </template>
                </template>

                <!-- Tenant-Specific Sections -->
                <template if:true={showTenantSections}>
                  <!-- A. Transactional / Lease Review (Tenant) -->
                  <template if:true={showTenantTransactional}>
                    <h4 class="form-section-header">
                      Transactional / Lease Review or Clarification
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you have a written lease agreement?"
                          options={ltTenantLeaseOptions}
                          value={intakeRecord.LT_Tenant_Lease_Type__c}
                          data-field="LT_Tenant_Lease_Type__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="What is the lease term?"
                          options={ltTenantTermOptions}
                          value={intakeRecord.LT_Tenant_Lease_Term__c}
                          data-field="LT_Tenant_Lease_Term__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantLeaseTermOther}
                        ><div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Other Lease Term (Specify)"
                            value={intakeRecord.LT_Tenant_Lease_Term_Other__c}
                            data-field="LT_Tenant_Lease_Term_Other__c"
                            onchange={handleFieldChange}
                          ></lightning-input></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Is the lease signed by all adult occupants?"
                          options={ltTenantLeaseSignedOptions}
                          value={intakeRecord.LT_Lease_All_Signed__c}
                          data-field="LT_Lease_All_Signed__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you have concerns about any part of your lease?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Lease_Concerns__c}
                          data-field="LT_Lease_Concerns__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantLeaseConcerns}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-textarea
                            label="What clauses or issues concern you most?"
                            value={intakeRecord.LT_Lease_Concerns_Details__c}
                            data-field="LT_Lease_Concerns_Details__c"
                            onchange={handleFieldChange}
                          ></lightning-textarea></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Are you seeking help to negotiate or clarify lease terms?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Negotiate_Terms__c}
                          data-field="LT_Negotiate_Terms__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                    </div>
                  </template>

                  <!-- B. Pre-Litigation (Tenant) -->
                  <template if:true={showTenantPreLitigation}>
                    <h4 class="form-section-header">
                      Pre-Litigation (Warnings / Notices / Habitability Issues)
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you received any written notices from your landlord?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Received_Notices__c}
                          data-field="LT_Received_Notices__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantNoticeDetails}>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Type of Notice"
                            value={intakeRecord.LT_Notice_Type__c}
                            data-field="LT_Notice_Type__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            type="date"
                            label="Date Received"
                            value={intakeRecord.LT_Notice_Received_Date__c}
                            data-field="LT_Notice_Received_Date__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                      </template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you received any verbal threats of eviction?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Verbal_Threats__c}
                          data-field="LT_Verbal_Threats__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you believe the notice is unjust or retaliatory?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Notice_Unjust__c}
                          data-field="LT_Notice_Unjust__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantUnjustExplanation}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-textarea
                            label="Explain why you believe the notice is unjust or retaliatory"
                            value={intakeRecord.LT_Notice_Unjust_Details__c}
                            data-field="LT_Notice_Unjust_Details__c"
                            onchange={handleFieldChange}
                          ></lightning-textarea></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you have unresolved repair or habitability issues?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Habitability_Issues__c}
                          data-field="LT_Habitability_Issues__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantHabitabilityDetails}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-textarea
                            label="Describe conditions (e.g., mold, pests, plumbing, heat)"
                            value={intakeRecord.LT_Habitability_Details__c}
                            data-field="LT_Habitability_Details__c"
                            onchange={handleFieldChange}
                          ></lightning-textarea></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you withheld rent due to uninhabitable conditions?"
                          options={ltRentWithholdOptions}
                          value={intakeRecord.LT_Rent_Withheld__c}
                          data-field="LT_Rent_Withheld__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you requested repairs or maintenance?"
                          options={ltRepairRequestOptions}
                          value={intakeRecord.LT_Repair_Requested__c}
                          data-field="LT_Repair_Requested__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Are you being harassed, discriminated against, or retaliated against?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Harassment__c}
                          data-field="LT_Harassment__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantHarassmentDetails}
                        ><div class="slds-col slds-size_1-of-1">
                          <lightning-textarea
                            label="Describe harassment, discrimination, or retaliation"
                            value={intakeRecord.LT_Harassment_Details__c}
                            data-field="LT_Harassment_Details__c"
                            onchange={handleFieldChange}
                          ></lightning-textarea></div
                      ></template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you want help sending a formal complaint or repair demand?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Formal_Complaint_Help__c}
                          data-field="LT_Formal_Complaint_Help__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                    </div>
                  </template>

                  <!-- C. Litigation (Tenant) -->
                  <template if:true={showTenantLitigation}>
                    <h4 class="form-section-header">
                      Litigation (Eviction Defense or Active Court Case)
                    </h4>
                    <div class="slds-grid slds-wrap slds-gutters">
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you been served with a Summons and Complaint for eviction?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Served_Eviction__c}
                          data-field="LT_Served_Eviction__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <template if:true={showTenantEvictionDetails}>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            type="date"
                            label="Date Served"
                            value={intakeRecord.LT_Served_Date__c}
                            data-field="LT_Served_Date__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Court Location"
                            value={intakeRecord.LT_Court_Location__c}
                            data-field="LT_Court_Location__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                        <div
                          class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                        >
                          <lightning-input
                            label="Case Number"
                            value={intakeRecord.LT_Tenant_Case_Number__c}
                            data-field="LT_Tenant_Case_Number__c"
                            onchange={handleFieldChange}
                          ></lightning-input>
                        </div>
                      </template>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you plan to appear in court or respond to the complaint?"
                          options={ltCourtResponseOptions}
                          value={intakeRecord.LT_Court_Response_Plan__c}
                          data-field="LT_Court_Response_Plan__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-dual-listbox
                          label="Do you have defenses you'd like to raise?"
                          options={ltDefenseOptions}
                          value={intakeRecord.LT_Defenses__c}
                          data-field="LT_Defenses__c"
                          onchange={handleFieldChange}
                          source-label="Available"
                          selected-label="Selected"
                        ></lightning-dual-listbox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Are you at risk of losing housing or becoming homeless if evicted?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Housing_Risk__c}
                          data-field="LT_Housing_Risk__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you need referral to housing assistance or legal aid?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Assistance_Referral__c}
                          data-field="LT_Assistance_Referral__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Have you attempted to negotiate or mediate with the landlord?"
                          options={ltNegotiationOptions}
                          value={intakeRecord.LT_Tenant_Negotiation__c}
                          data-field="LT_Tenant_Negotiation__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-combobox
                          label="Do you need help preparing evidence for court?"
                          options={yesNoOptions}
                          value={intakeRecord.LT_Evidence_Help__c}
                          data-field="LT_Evidence_Help__c"
                          onchange={handleFieldChange}
                        ></lightning-combobox>
                      </div>
                    </div>
                  </template>
                </template>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showGuardianConservatorship}>
            <lightning-tab
              label="Guardian & Conservatorship"
              value="Guardian-Conservatorship"
            >
              <div class="slds-p-around_medium">
                <!-- A. Information About the Proposed Ward -->
                <h4 class="form-section-header">
                  Information About the Proposed Ward (Person Needing
                  Guardianship or Conservatorship)
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Full Name of Proposed Ward"
                      value={intakeRecord.GC_Ward_Full_Name__c}
                      data-field="GC_Ward_Full_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="date"
                      label="Date of Birth"
                      value={intakeRecord.GC_Ward_Date_Of_Birth__c}
                      data-field="GC_Ward_Date_Of_Birth__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Current Address"
                      value={intakeRecord.GC_Ward_Current_Address__c}
                      data-field="GC_Ward_Current_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Phone Number (if applicable)"
                      value={intakeRecord.GC_Ward_Phone__c}
                      data-field="GC_Ward_Phone__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is the proposed ward currently residing in:"
                      options={gcWardResidenceOptions}
                      value={intakeRecord.GC_Ward_Residence_Type__c}
                      data-field="GC_Ward_Residence_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCWardResidenceOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other residence type (Specify)"
                        value={intakeRecord.GC_Ward_Residence_Other__c}
                        data-field="GC_Ward_Residence_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Reason guardianship/conservatorship is being considered:"
                      options={gcReasonOptions}
                      value={intakeRecord.GC_Reason__c}
                      data-field="GC_Reason__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCReasonOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other reason (Specify)"
                        value={intakeRecord.GC_Reason_Other__c}
                        data-field="GC_Reason_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Does the proposed ward have a diagnosis or medical records supporting incapacity?"
                      options={gcMedicalRecordsOptions}
                      value={intakeRecord.GC_Medical_Records__c}
                      data-field="GC_Medical_Records__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCMedicalRecordsDetails}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please describe diagnosis or provide documentation details"
                        value={intakeRecord.GC_Medical_Records_Details__c}
                        data-field="GC_Medical_Records_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- B. Type of Case Being Considered -->
                <h4 class="form-section-header">
                  Type of Case Being Considered
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="What type of proceeding is this?"
                      options={gcProceedingTypeOptions}
                      value={intakeRecord.GC_Proceeding_Type__c}
                      data-field="GC_Proceeding_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is there an existing Power of Attorney?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Existing_POA__c}
                      data-field="GC_Existing_POA__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCExistingPOA}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Who holds the POA?"
                        value={intakeRecord.GC_POA_Holder__c}
                        data-field="GC_POA_Holder__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has a guardianship or conservatorship case been filed previously?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Previous_Case__c}
                      data-field="GC_Previous_Case__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCPreviousCase}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Case number and court"
                        value={intakeRecord.GC_Previous_Case_Details__c}
                        data-field="GC_Previous_Case_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- C. Information About the Proposed Guardian or Conservator -->
                <h4 class="form-section-header">
                  Information About the Proposed Guardian or Conservator
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Full Name"
                      value={intakeRecord.GC_Guardian_Full_Name__c}
                      data-field="GC_Guardian_Full_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Relationship to Proposed Ward"
                      value={intakeRecord.GC_Guardian_Relationship__c}
                      data-field="GC_Guardian_Relationship__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Address"
                      value={intakeRecord.GC_Guardian_Address__c}
                      data-field="GC_Guardian_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Phone Number"
                      value={intakeRecord.GC_Guardian_Phone__c}
                      data-field="GC_Guardian_Phone__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are you willing and able to serve as guardian/conservator?"
                      options={gcWillingnessOptions}
                      value={intakeRecord.GC_Guardian_Willingness__c}
                      data-field="GC_Guardian_Willingness__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you live in Colorado?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Guardian_In_Colorado__c}
                      data-field="GC_Guardian_In_Colorado__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCGuardianOutOfState}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please specify state and your plans for oversight"
                        value={intakeRecord.GC_Guardian_Out_Of_State_Plans__c}
                        data-field="GC_Guardian_Out_Of_State_Plans__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have you ever been a guardian or conservator before?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Guardian_Previous_Experience__c}
                      data-field="GC_Guardian_Previous_Experience__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCGuardianPreviousExperience}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please describe your previous experience"
                        value={intakeRecord.GC_Guardian_Previous_Details__c}
                        data-field="GC_Guardian_Previous_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Do you have any legal or criminal history that might affect your ability to serve?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Guardian_Legal_History__c}
                      data-field="GC_Guardian_Legal_History__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCGuardianLegalHistory}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please explain your legal or criminal history"
                        value={intakeRecord.GC_Guardian_Legal_Details__c}
                        data-field="GC_Guardian_Legal_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- D. Family and Other Interested Parties -->
                <h4 class="form-section-header">
                  Family and Other Interested Parties
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="List other close family members (names, relationship, contact info)"
                      value={intakeRecord.GC_Family_Members__c}
                      data-field="GC_Family_Members__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are there any known disputes or conflicts among family members?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Family_Disputes__c}
                      data-field="GC_Family_Disputes__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCFamilyDisputes}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please explain the disputes or conflicts"
                        value={intakeRecord.GC_Family_Disputes_Details__c}
                        data-field="GC_Family_Disputes_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is there a current caregiver or healthcare provider involved?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Current_Caregiver__c}
                      data-field="GC_Current_Caregiver__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCCurrentCaregiver}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Caregiver name and contact info"
                        value={intakeRecord.GC_Caregiver_Details__c}
                        data-field="GC_Caregiver_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- E. Financial and Asset Information (For Conservatorship) -->
                <h4 class="form-section-header">
                  Financial and Asset Information (For Conservatorship)
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Estimated total value of proposed ward's assets"
                      type="number"
                      formatter="currency"
                      value={intakeRecord.GC_Total_Asset_Value__c}
                      data-field="GC_Total_Asset_Value__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Types of assets"
                      options={gcAssetTypesOptions}
                      value={intakeRecord.GC_Asset_Types__c}
                      data-field="GC_Asset_Types__c"
                      onchange={handleFieldChange}
                      source-label="Available"
                      selected-label="Selected"
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showGCAssetTypesOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other asset types (Specify)"
                        value={intakeRecord.GC_Asset_Types_Other__c}
                        data-field="GC_Asset_Types_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are there any known debts or liabilities?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Known_Debts__c}
                      data-field="GC_Known_Debts__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCKnownDebts}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe debts or liabilities"
                        value={intakeRecord.GC_Debts_Details__c}
                        data-field="GC_Debts_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are there any ongoing income sources?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Income_Sources__c}
                      data-field="GC_Income_Sources__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCIncomeSources}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Specify income sources (e.g., Social Security, pension, rental income)"
                        value={intakeRecord.GC_Income_Details__c}
                        data-field="GC_Income_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- F. Additional Information -->
                <h4 class="form-section-header">Additional Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is the proposed ward currently under any other legal orders?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Other_Legal_Orders__c}
                      data-field="GC_Other_Legal_Orders__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCOtherLegalOrders}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please explain other legal orders"
                        value={intakeRecord.GC_Legal_Orders_Details__c}
                        data-field="GC_Legal_Orders_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Does the proposed ward have advance directives or a living will?"
                      options={gcAdvanceDirectivesOptions}
                      value={intakeRecord.GC_Advance_Directives__c}
                      data-field="GC_Advance_Directives__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="What are the primary concerns or goals for seeking guardianship or conservatorship?"
                      value={intakeRecord.GC_Primary_Goals__c}
                      data-field="GC_Primary_Goals__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <!-- G. Contested Case Specific Questions -->
                <h4 class="form-section-header">
                  Contested Case Specific Questions
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Who is contesting the guardianship/conservatorship?"
                      value={intakeRecord.GC_Contesting_Party__c}
                      data-field="GC_Contesting_Party__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="On what grounds is the guardianship/conservatorship being contested?"
                      value={intakeRecord.GC_Contest_Grounds__c}
                      data-field="GC_Contest_Grounds__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has the contesting party filed any legal documents or motions?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Legal_Documents_Filed__c}
                      data-field="GC_Legal_Documents_Filed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCLegalDocumentsFiled}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Case Number"
                        value={intakeRecord.GC_Contest_Case_Number__c}
                        data-field="GC_Contest_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Are there concerns about abuse, neglect, or exploitation?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Abuse_Concerns__c}
                      data-field="GC_Abuse_Concerns__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showGCAbuseConcerns}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please explain the abuse, neglect, or exploitation concerns"
                        value={intakeRecord.GC_Abuse_Details__c}
                        data-field="GC_Abuse_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Has there been any involvement from Adult Protective Services?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_APS_Involvement__c}
                      data-field="GC_APS_Involvement__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Is there a need for a temporary or emergency guardian/conservator?"
                      options={yesNoOptions}
                      value={intakeRecord.GC_Emergency_Need__c}
                      data-field="GC_Emergency_Need__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showDefamation}>
            <lightning-tab label="Defamation" value="Defamation">
              <div class="slds-p-around_medium">
                <!-- General Defamation Information -->
                <h4 class="form-section-header">
                  General Defamation Information
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="What is your involvement in this matter?"
                      options={picklistValues.DEF_Involvement_Type__c}
                      value={intakeRecord.DEF_Involvement_Type__c}
                      data-field="DEF_Involvement_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Full Name of person who made (or allegedly made) the defamatory statements"
                      value={intakeRecord.DEF_Statement_Maker_Name__c}
                      data-field="DEF_Statement_Maker_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Occupation/Title of statement maker"
                      value={intakeRecord.DEF_Statement_Maker_Occupation__c}
                      data-field="DEF_Statement_Maker_Occupation__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Their relationship to you"
                      value={intakeRecord.DEF_Statement_Maker_Relationship__c}
                      data-field="DEF_Statement_Maker_Relationship__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Nature of your relationship with this individual"
                      options={picklistValues.DEF_Relationship_Nature__c}
                      value={intakeRecord.DEF_Relationship_Nature__c}
                      data-field="DEF_Relationship_Nature__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFRelationshipOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other relationship (Specify)"
                        value={intakeRecord.DEF_Relationship_Other__c}
                        data-field="DEF_Relationship_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What type(s) of statements were made?"
                      options={picklistValues.DEF_Statement_Types__c}
                      value={intakeRecord.DEF_Statement_Types__c}
                      data-field="DEF_Statement_Types__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showDEFStatementTypesOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Other harmful or false statements (Specify)"
                        value={intakeRecord.DEF_Statement_Types_Other__c}
                        data-field="DEF_Statement_Types_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- Details of the Defamatory Statements -->
                <h4 class="form-section-header">
                  Details of the Defamatory Statements
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="General content or topic of the statements"
                      value={intakeRecord.DEF_Statement_Content__c}
                      data-field="DEF_Statement_Content__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Exact wording (if known)"
                      value={intakeRecord.DEF_Statement_Exact_Wording__c}
                      data-field="DEF_Statement_Exact_Wording__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Context or circumstances (e.g., during a dispute, public forum, online argument)"
                      value={intakeRecord.DEF_Statement_Context__c}
                      data-field="DEF_Statement_Context__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <!-- Written Statements (Libel) -->
                <h4 class="form-section-header">Written Statements (Libel)</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Were the statements made in writing (libel)?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Written_Statements__c}
                      data-field="DEF_Written_Statements__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFWrittenStatements}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Where were they published? (e.g., Facebook, Twitter/X, newspaper, letter)"
                        value={intakeRecord.DEF_Publication_Location__c}
                        data-field="DEF_Publication_Location__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Medium used"
                        options={picklistValues.DEF_Publication_Medium__c}
                        value={intakeRecord.DEF_Publication_Medium__c}
                        data-field="DEF_Publication_Medium__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFPublicationMediumOther}
                      ><div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-input
                          label="Other medium (Specify)"
                          value={intakeRecord.DEF_Publication_Medium_Other__c}
                          data-field="DEF_Publication_Medium_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Who accessed or viewed the written statements?"
                        value={intakeRecord.DEF_Written_Audience__c}
                        data-field="DEF_Written_Audience__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="number"
                        label="Estimated number of people exposed to the content"
                        value={intakeRecord.DEF_Written_Exposure_Count__c}
                        data-field="DEF_Written_Exposure_Count__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Verbal Statements (Slander) -->
                <h4 class="form-section-header">Verbal Statements (Slander)</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Were the statements made verbally (slander)?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Verbal_Statements__c}
                      data-field="DEF_Verbal_Statements__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFVerbalStatements}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Location or setting of the statement"
                        value={intakeRecord.DEF_Verbal_Location__c}
                        data-field="DEF_Verbal_Location__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Was the setting"
                        options={defamationVerbalSettingOptions}
                        value={intakeRecord.DEF_Verbal_Setting_Type__c}
                        data-field="DEF_Verbal_Setting_Type__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Who heard the statements?"
                        value={intakeRecord.DEF_Verbal_Audience__c}
                        data-field="DEF_Verbal_Audience__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="number"
                        label="Estimated number of people exposed"
                        value={intakeRecord.DEF_Verbal_Exposure_Count__c}
                        data-field="DEF_Verbal_Exposure_Count__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                  </template>
                </div>

                <!-- Public Figure Status and Business Context -->
                <h4 class="form-section-header">
                  Public Figure Status and Business Context
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you considered a public figure or public official?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Public_Figure__c}
                      data-field="DEF_Public_Figure__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFPublicFigure}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Please describe your role or area of public visibility"
                        value={intakeRecord.DEF_Public_Figure_Role__c}
                        data-field="DEF_Public_Figure_Role__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Was the person making the statements acting in a business or employment capacity?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Business_Capacity__c}
                      data-field="DEF_Business_Capacity__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFBusinessCapacity}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Name of the business or organization"
                        value={intakeRecord.DEF_Business_Name__c}
                        data-field="DEF_Business_Name__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- Harm and Damages -->
                <h4 class="form-section-header">Harm and Damages</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you suffered harm or damages as a result of these statements?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Suffered_Harm__c}
                      data-field="DEF_Suffered_Harm__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFSufferedHarm}>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        label="Describe the type(s) of harm"
                        options={defamationHarmTypesOptions}
                        value={intakeRecord.DEF_Harm_Types__c}
                        data-field="DEF_Harm_Types__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showDEFHarmTypesOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other harm type (Specify)"
                          value={intakeRecord.DEF_Harm_Types_Other__c}
                          data-field="DEF_Harm_Types_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe the damages in detail"
                        value={intakeRecord.DEF_Damage_Details__c}
                        data-field="DEF_Damage_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Can you estimate the total harm or losses?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Can_Estimate_Losses__c}
                        data-field="DEF_Can_Estimate_Losses__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFCanEstimateLosses}>
                      <div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-input
                          type="number"
                          label="Estimated financial loss ($)"
                          value={intakeRecord.DEF_Financial_Loss_Amount__c}
                          data-field="DEF_Financial_Loss_Amount__c"
                          onchange={handleFieldChange}
                          step="0.01"
                        ></lightning-input>
                      </div>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Damage to reputation"
                          value={intakeRecord.DEF_Reputation_Damage__c}
                          data-field="DEF_Reputation_Damage__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea>
                      </div>
                      <div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Emotional impact (e.g., anxiety, embarrassment)"
                          value={intakeRecord.DEF_Emotional_Impact__c}
                          data-field="DEF_Emotional_Impact__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea>
                      </div>
                    </template>
                  </template>
                </div>

                <!-- Plaintiff-Specific Questions -->
                <template if:true={isDefamationPlaintiff}>
                  <h4 class="form-section-header">
                    Plaintiff-Specific Questions
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Have you experienced financial losses as a result of the defamatory statements?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Plaintiff_Financial_Losses__c}
                        data-field="DEF_Plaintiff_Financial_Losses__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFPlaintiffFinancialLosses}
                      ><div
                        class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                      >
                        <lightning-input
                          type="number"
                          label="Estimate the financial damage ($)"
                          value={intakeRecord.DEF_Plaintiff_Financial_Damage__c}
                          data-field="DEF_Plaintiff_Financial_Damage__c"
                          onchange={handleFieldChange}
                          step="0.01"
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        label="How has your reputation been affected?"
                        options={defamationReputationImpactOptions}
                        value={intakeRecord.DEF_Reputation_Impact__c}
                        data-field="DEF_Reputation_Impact__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showDEFReputationImpactOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other reputation impact (Specify)"
                          value={intakeRecord.DEF_Reputation_Impact_Other__c}
                          data-field="DEF_Reputation_Impact_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Have you taken any steps to repair your reputation?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Reputation_Repair_Steps__c}
                        data-field="DEF_Reputation_Repair_Steps__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFReputationRepairSteps}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Describe what you did (e.g., issued public statement, hired PR consultant)"
                          value={intakeRecord.DEF_Reputation_Repair_Details__c}
                          data-field="DEF_Reputation_Repair_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-dual-listbox
                        label="What actions have you taken in response to the defamation?"
                        options={defamationResponseActionsOptions}
                        value={intakeRecord.DEF_Response_Actions__c}
                        data-field="DEF_Response_Actions__c"
                        onchange={handleFieldChange}
                      ></lightning-dual-listbox>
                    </div>
                    <template if:true={showDEFResponseActionsOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other response action (Specify)"
                          value={intakeRecord.DEF_Response_Actions_Other__c}
                          data-field="DEF_Response_Actions_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Have you received compensation or a formal retraction/apology?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Received_Compensation__c}
                        data-field="DEF_Received_Compensation__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFReceivedCompensation}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Describe the nature of the resolution (e.g., financial payment, public apology)"
                          value={intakeRecord.DEF_Compensation_Details__c}
                          data-field="DEF_Compensation_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Do you have any supporting evidence of the defamation?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Has_Evidence__c}
                        data-field="DEF_Has_Evidence__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFHasEvidence}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-dual-listbox
                          label="Please list or describe evidence"
                          options={defamationEvidenceTypesOptions}
                          value={intakeRecord.DEF_Evidence_Types__c}
                          data-field="DEF_Evidence_Types__c"
                          onchange={handleFieldChange}
                        ></lightning-dual-listbox></div
                    ></template>
                    <template if:true={showDEFEvidenceTypesOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other evidence type (Specify)"
                          value={intakeRecord.DEF_Evidence_Types_Other__c}
                          data-field="DEF_Evidence_Types_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                  </div>
                </template>

                <!-- Defendant-Specific Questions -->
                <template if:true={isDefamationDefendant}>
                  <h4 class="form-section-header">
                    Defendant-Specific Questions
                  </h4>
                  <div class="slds-grid slds-wrap slds-gutters">
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Did you make the statement(s) in question?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Made_Statements__c}
                        data-field="DEF_Defendant_Made_Statements__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantDidNotMake}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Explain your position or defense"
                          value={intakeRecord.DEF_Defendant_Defense_Position__c}
                          data-field="DEF_Defendant_Defense_Position__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="What was your intent when making the statement(s)?"
                        options={defamationDefendantIntentOptions}
                        value={intakeRecord.DEF_Defendant_Intent__c}
                        data-field="DEF_Defendant_Intent__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantIntentOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Other intent (Explain)"
                          value={intakeRecord.DEF_Defendant_Intent_Other__c}
                          data-field="DEF_Defendant_Intent_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Did you believe the statements to be true at the time?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Believed_True__c}
                        data-field="DEF_Defendant_Believed_True__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Were you aware that the statements could potentially harm the plaintiff?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Aware_Harm__c}
                        data-field="DEF_Defendant_Aware_Harm__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="What was the context of the statement(s)?"
                        options={defamationDefendantContextOptions}
                        value={intakeRecord.DEF_Defendant_Context__c}
                        data-field="DEF_Defendant_Context__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantContextOther}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Other context (Specify)"
                          value={intakeRecord.DEF_Defendant_Context_Other__c}
                          data-field="DEF_Defendant_Context_Other__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="In what capacity did you make the statement(s)?"
                        options={defamationDefendantCapacityOptions}
                        value={intakeRecord.DEF_Defendant_Capacity__c}
                        data-field="DEF_Defendant_Capacity__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Did you verify the accuracy of the statement(s) before making them?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Verified_Facts__c}
                        data-field="DEF_Defendant_Verified_Facts__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantVerifiedFacts}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Describe the steps you took to confirm the facts"
                          value={intakeRecord.DEF_Defendant_Verification_Steps__c}
                          data-field="DEF_Defendant_Verification_Steps__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Do you still believe the statements are true?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Still_Believes__c}
                        data-field="DEF_Defendant_Still_Believes__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantDoesNotBelieve}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Explain why you made them"
                          value={intakeRecord.DEF_Defendant_Why_Made__c}
                          data-field="DEF_Defendant_Why_Made__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Do you have evidence to support your position or defense?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Has_Evidence__c}
                        data-field="DEF_Defendant_Has_Evidence__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantHasEvidence}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Specify the type of evidence (e.g., documents, witness accounts, proof of truth)"
                          value={intakeRecord.DEF_Defendant_Evidence_Details__c}
                          data-field="DEF_Defendant_Evidence_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Have you made any retractions, apologies, or clarifications?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Made_Retraction__c}
                        data-field="DEF_Defendant_Made_Retraction__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantMadeRetraction}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Describe the form and content of the retraction/apology"
                          value={intakeRecord.DEF_Defendant_Retraction_Details__c}
                          data-field="DEF_Defendant_Retraction_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Are you asserting any legal defenses or privileges?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Legal_Defenses__c}
                        data-field="DEF_Defendant_Legal_Defenses__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantLegalDefenses}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-input
                          label="Specify (e.g., opinion, fair comment, public interest)"
                          value={intakeRecord.DEF_Defendant_Defense_Types__c}
                          data-field="DEF_Defendant_Defense_Types__c"
                          onchange={handleFieldChange}
                        ></lightning-input></div
                    ></template>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-combobox
                        label="Were the statements made under legal privilege?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Defendant_Legal_Privilege__c}
                        data-field="DEF_Defendant_Legal_Privilege__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDefendantLegalPrivilege}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Describe the privilege or protection claimed"
                          value={intakeRecord.DEF_Defendant_Privilege_Details__c}
                          data-field="DEF_Defendant_Privilege_Details__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                  </div>
                </template>

                <!-- Legal and Financial Considerations -->
                <h4 class="form-section-header">
                  Legal and Financial Considerations
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is the plaintiff seeking damages or compensation?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Plaintiff_Seeking_Damages__c}
                      data-field="DEF_Plaintiff_Seeking_Damages__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFPlaintiffSeekingDamages}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="number"
                        label="What amount is being claimed? ($)"
                        value={intakeRecord.DEF_Damages_Amount_Claimed__c}
                        data-field="DEF_Damages_Amount_Claimed__c"
                        onchange={handleFieldChange}
                        step="0.01"
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Do you consider the damages claim to be reasonable?"
                        options={yesNoOptions}
                        value={intakeRecord.DEF_Damages_Claim_Reasonable__c}
                        data-field="DEF_Damages_Claim_Reasonable__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <template if:true={showDEFDamagesNotReasonable}
                      ><div class="slds-col slds-size_1-of-1">
                        <lightning-textarea
                          label="Explain your reasoning"
                          value={intakeRecord.DEF_Damages_Unreasonable_Reason__c}
                          data-field="DEF_Damages_Unreasonable_Reason__c"
                          onchange={handleFieldChange}
                        ></lightning-textarea></div
                    ></template>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What efforts have been made to resolve this matter?"
                      options={defamationResolutionEffortsOptions}
                      value={intakeRecord.DEF_Resolution_Efforts__c}
                      data-field="DEF_Resolution_Efforts__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showDEFResolutionEffortsOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other resolution effort (Specify)"
                        value={intakeRecord.DEF_Resolution_Efforts_Other__c}
                        data-field="DEF_Resolution_Efforts_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you open to a settlement?"
                      options={yesNoOptions}
                      value={intakeRecord.DEF_Open_To_Settlement__c}
                      data-field="DEF_Open_To_Settlement__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showDEFOpenToSettlement}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Suggest possible terms or conditions for settlement"
                        value={intakeRecord.DEF_Settlement_Terms__c}
                        data-field="DEF_Settlement_Terms__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showHOA}>
            <lightning-tab label="HOA" value="HOA">
              <div class="slds-p-around_medium">
                <!-- Basic Information -->
                <h4 class="form-section-header">Basic Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Property Address"
                      value={intakeRecord.HOA_Property_Address__c}
                      data-field="HOA_Property_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Name of the Homeowners' Association (HOA)"
                      value={intakeRecord.HOA_Name__c}
                      data-field="HOA_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you currently reside at this property?"
                      options={yesNoOptions}
                      value={intakeRecord.HOA_Currently_Reside__c}
                      data-field="HOA_Currently_Reside__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showHOANotResident}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Please specify your relationship to the property"
                        value={intakeRecord.HOA_Property_Relationship__c}
                        data-field="HOA_Property_Relationship__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Do you possess any of the following governing documents?"
                      options={hoaGoverningDocumentsOptions}
                      value={intakeRecord.HOA_Governing_Documents__c}
                      data-field="HOA_Governing_Documents__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Can you provide copies of the documents listed above?"
                      options={hoaCanProvideDocumentsOptions}
                      value={intakeRecord.HOA_Can_Provide_Documents__c}
                      data-field="HOA_Can_Provide_Documents__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are you a member of the HOA Board of Directors?"
                      options={hoaBoardMemberStatusOptions}
                      value={intakeRecord.HOA_Board_Member_Status__c}
                      data-field="HOA_Board_Member_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showHOABoardMember}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Current Role"
                        value={intakeRecord.HOA_Board_Current_Role__c}
                        data-field="HOA_Board_Current_Role__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                </div>

                <!-- Nature of the HOA Dispute or Issue -->
                <h4 class="form-section-header">
                  Nature of the HOA Dispute or Issue
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="How would you categorize the issue?"
                      options={hoaIssueCategoryOptions}
                      value={intakeRecord.HOA_Issue_Category__c}
                      data-field="HOA_Issue_Category__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showHOAIssueOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Issue Category (Specify)"
                        value={intakeRecord.HOA_Issue_Category_Other__c}
                        data-field="HOA_Issue_Category_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Describe the issue in detail"
                      value={intakeRecord.HOA_Issue_Description__c}
                      data-field="HOA_Issue_Description__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="date"
                      label="When did the issue begin or first occur?"
                      value={intakeRecord.HOA_Issue_Start_Date__c}
                      data-field="HOA_Issue_Start_Date__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you made any attempts to resolve the issue directly with the HOA or Board?"
                      options={yesNoOptions}
                      value={intakeRecord.HOA_Resolution_Attempts__c}
                      data-field="HOA_Resolution_Attempts__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showHOAResolutionAttempts}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe steps taken"
                        value={intakeRecord.HOA_Resolution_Steps__c}
                        data-field="HOA_Resolution_Steps__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Who are the parties involved in the dispute? (names, titles/roles, contact info)"
                      value={intakeRecord.HOA_Parties_Involved__c}
                      data-field="HOA_Parties_Involved__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>

                <!-- Litigation or Formal Action -->
                <h4 class="form-section-header">Litigation or Formal Action</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Has a lawsuit, arbitration, or administrative action been initiated?"
                      options={yesNoOptions}
                      value={intakeRecord.HOA_Legal_Action_Initiated__c}
                      data-field="HOA_Legal_Action_Initiated__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showHOALegalAction}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Court/Agency Name"
                        value={intakeRecord.HOA_Court_Agency_Name__c}
                        data-field="HOA_Court_Agency_Name__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="County"
                        value={intakeRecord.HOA_Court_County__c}
                        data-field="HOA_Court_County__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="State"
                        value={intakeRecord.HOA_Court_State__c}
                        data-field="HOA_Court_State__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Case Number"
                        value={intakeRecord.HOA_Case_Number__c}
                        data-field="HOA_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="date"
                        label="Date Filed"
                        value={intakeRecord.HOA_Date_Filed__c}
                        data-field="HOA_Date_Filed__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Current status of the legal matter"
                        options={hoaLegalStatusOptions}
                        value={intakeRecord.HOA_Legal_Status__c}
                        data-field="HOA_Legal_Status__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Additional details"
                        value={intakeRecord.HOA_Legal_Additional_Details__c}
                        data-field="HOA_Legal_Additional_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea>
                    </div>
                  </template>
                </div>

                <!-- Support Requested -->
                <h4 class="form-section-header">Support Requested</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What outcome are you seeking?"
                      options={hoaDesiredOutcomeOptions}
                      value={intakeRecord.HOA_Desired_Outcome__c}
                      data-field="HOA_Desired_Outcome__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showHOAOutcomeOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other desired outcome (Specify)"
                        value={intakeRecord.HOA_Desired_Outcome_Other__c}
                        data-field="HOA_Desired_Outcome_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Please describe in your own words the resolution or assistance you are hoping to obtain"
                      value={intakeRecord.HOA_Resolution_Description__c}
                      data-field="HOA_Resolution_Description__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>

          <template if:true={showConstruction}>
            <lightning-tab
              label="Construction & Construction Defect"
              value="Construction"
            >
              <div class="slds-p-around_medium">
                <!-- Project Information -->
                <h4 class="form-section-header">Project Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Construction Project Address"
                      value={intakeRecord.CONST_Project_Address__c}
                      data-field="CONST_Project_Address__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Type of Property Involved"
                      options={constructionPropertyTypeOptions}
                      value={intakeRecord.CONST_Property_Type__c}
                      data-field="CONST_Property_Type__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Scope of the Project"
                      options={constructionProjectScopeOptions}
                      value={intakeRecord.CONST_Project_Scope__c}
                      data-field="CONST_Project_Scope__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstScopeOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Project Scope (Specify)"
                        value={intakeRecord.CONST_Project_Scope_Other__c}
                        data-field="CONST_Project_Scope_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Project Owner/Client Name"
                      value={intakeRecord.CONST_Project_Owner_Name__c}
                      data-field="CONST_Project_Owner_Name__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-input
                      label="Project Owner Contact Info"
                      value={intakeRecord.CONST_Project_Owner_Contact__c}
                      data-field="CONST_Project_Owner_Contact__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <!-- Key Parties Involved -->
                <h4 class="form-section-header">Key Parties Involved</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="General Contractor"
                      value={intakeRecord.CONST_General_Contractor__c}
                      data-field="CONST_General_Contractor__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Subcontractor(s)"
                      value={intakeRecord.CONST_Subcontractors__c}
                      data-field="CONST_Subcontractors__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Architect/Designer"
                      value={intakeRecord.CONST_Architect_Designer__c}
                      data-field="CONST_Architect_Designer__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Engineer(s)"
                      value={intakeRecord.CONST_Engineers__c}
                      data-field="CONST_Engineers__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Developer (if applicable)"
                      value={intakeRecord.CONST_Developer__c}
                      data-field="CONST_Developer__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      label="Construction Manager/Consultant"
                      value={intakeRecord.CONST_Construction_Manager__c}
                      data-field="CONST_Construction_Manager__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                </div>

                <!-- Construction Issues -->
                <h4 class="form-section-header">Construction Issues</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="Nature of the Dispute or Issue"
                      options={constructionIssueNatureOptions}
                      value={intakeRecord.CONST_Issue_Nature__c}
                      data-field="CONST_Issue_Nature__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showConstIssueNatureOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Issue Nature (Specify)"
                        value={intakeRecord.CONST_Issue_Nature_Other__c}
                        data-field="CONST_Issue_Nature_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="If defects are present, indicate type(s) of defect"
                      options={constructionDefectTypesOptions}
                      value={intakeRecord.CONST_Defect_Types__c}
                      data-field="CONST_Defect_Types__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showConstDefectTypesOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other Defect Types (Specify)"
                        value={intakeRecord.CONST_Defect_Types_Other__c}
                        data-field="CONST_Defect_Types_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-input
                      type="date"
                      label="When did the defect(s) or issue first appear?"
                      value={intakeRecord.CONST_Issue_First_Appeared__c}
                      data-field="CONST_Issue_First_Appeared__c"
                      onchange={handleFieldChange}
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Describe your initial observations"
                      value={intakeRecord.CONST_Initial_Observations__c}
                      data-field="CONST_Initial_Observations__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Severity of the Defect(s)"
                      options={constructionDefectSeverityOptions}
                      value={intakeRecord.CONST_Defect_Severity__c}
                      data-field="CONST_Defect_Severity__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                  >
                    <lightning-combobox
                      label="Have any experts inspected the defects?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Expert_Inspection__c}
                      data-field="CONST_Expert_Inspection__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstExpertInspection}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Provide inspection report or name of inspector"
                        value={intakeRecord.CONST_Inspector_Details__c}
                        data-field="CONST_Inspector_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have issues been communicated to any parties?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Issues_Communicated__c}
                      data-field="CONST_Issues_Communicated__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstIssuesCommunicated}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe their response"
                        value={intakeRecord.CONST_Party_Response__c}
                        data-field="CONST_Party_Response__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Has any corrective work been offered, attempted, or completed?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Corrective_Work_Offered__c}
                      data-field="CONST_Corrective_Work_Offered__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstCorrectiveWork}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Who performed it and when?"
                        value={intakeRecord.CONST_Corrective_Work_Details__c}
                        data-field="CONST_Corrective_Work_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- CDARA / Legal Concerns -->
                <h4 class="form-section-header">CDARA / Legal Concerns</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have you served or received a CDARA Notice of Claim?"
                      options={constructionCDARANoticeOptions}
                      value={intakeRecord.CONST_CDARA_Notice_Status__c}
                      data-field="CONST_CDARA_Notice_Status__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstCDARANotice}
                    ><div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        type="date"
                        label="Date served/received"
                        value={intakeRecord.CONST_CDARA_Notice_Date__c}
                        data-field="CONST_CDARA_Notice_Date__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Was a response to the Notice of Claim provided?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_CDARA_Response_Provided__c}
                      data-field="CONST_CDARA_Response_Provided__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstCDARAResponse}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe the response or proposed resolution"
                        value={intakeRecord.CONST_CDARA_Response_Details__c}
                        data-field="CONST_CDARA_Response_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Is there a written contract for the work?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Has_Written_Contract__c}
                      data-field="CONST_Has_Written_Contract__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Does the contract contain warranty or dispute resolution clause?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Contract_Has_Warranty_Clause__c}
                      data-field="CONST_Contract_Has_Warranty_Clause__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstWarrantyClause}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe warranty/dispute resolution clause"
                        value={intakeRecord.CONST_Warranty_Clause_Details__c}
                        data-field="CONST_Warranty_Clause_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have any lawsuits, arbitration, or administrative actions been initiated?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Lawsuit_Initiated__c}
                      data-field="CONST_Lawsuit_Initiated__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstLawsuitDetails}>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Jurisdiction/Court"
                        value={intakeRecord.CONST_Lawsuit_Jurisdiction__c}
                        data-field="CONST_Lawsuit_Jurisdiction__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-input
                        label="Case Number"
                        value={intakeRecord.CONST_Lawsuit_Case_Number__c}
                        data-field="CONST_Lawsuit_Case_Number__c"
                        onchange={handleFieldChange}
                      ></lightning-input>
                    </div>
                    <div
                      class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2"
                    >
                      <lightning-combobox
                        label="Status"
                        options={constructionLawsuitStatusOptions}
                        value={intakeRecord.CONST_Lawsuit_Status__c}
                        data-field="CONST_Lawsuit_Status__c"
                        onchange={handleFieldChange}
                      ></lightning-combobox>
                    </div>
                  </template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are any construction liens involved?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Construction_Liens__c}
                      data-field="CONST_Construction_Liens__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstConstructionLiens}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe construction liens"
                        value={intakeRecord.CONST_Lien_Details__c}
                        data-field="CONST_Lien_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there applicable warranties still in effect?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Warranties_In_Effect__c}
                      data-field="CONST_Warranties_In_Effect__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstWarrantiesInEffect}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="What is covered?"
                        value={intakeRecord.CONST_Warranty_Coverage__c}
                        data-field="CONST_Warranty_Coverage__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- Financial Information -->
                <h4 class="form-section-header">Financial Information</h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      type="number"
                      label="Estimated Total Value of Project ($)"
                      value={intakeRecord.CONST_Project_Total_Value__c}
                      data-field="CONST_Project_Total_Value__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      type="number"
                      label="Total Amount Paid to Date ($)"
                      value={intakeRecord.CONST_Amount_Paid__c}
                      data-field="CONST_Amount_Paid__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div
                    class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3"
                  >
                    <lightning-input
                      type="number"
                      label="Remaining or Disputed Balance ($)"
                      value={intakeRecord.CONST_Disputed_Balance__c}
                      data-field="CONST_Disputed_Balance__c"
                      onchange={handleFieldChange}
                      step="0.01"
                    ></lightning-input>
                  </div>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Have contractors or subcontractors filed claims for payment?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Payment_Claims_Filed__c}
                      data-field="CONST_Payment_Claims_Filed__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstPaymentClaims}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Payment claims details"
                        value={intakeRecord.CONST_Payment_Claims_Details__c}
                        data-field="CONST_Payment_Claims_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Are there unpaid invoices or disputes over payment?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Unpaid_Invoices__c}
                      data-field="CONST_Unpaid_Invoices__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstUnpaidInvoices}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="List relevant invoices and parties owed"
                        value={intakeRecord.CONST_Unpaid_Invoice_Details__c}
                        data-field="CONST_Unpaid_Invoice_Details__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                </div>

                <!-- Supporting Evidence & Desired Resolution -->
                <h4 class="form-section-header">
                  Supporting Evidence & Desired Resolution
                </h4>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-combobox
                      label="Do you have supporting evidence?"
                      options={yesNoOptions}
                      value={intakeRecord.CONST_Has_Supporting_Evidence__c}
                      data-field="CONST_Has_Supporting_Evidence__c"
                      onchange={handleFieldChange}
                    ></lightning-combobox>
                  </div>
                  <template if:true={showConstSupportingEvidence}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-textarea
                        label="Describe evidence (photos, videos, contracts, inspection reports, correspondence, etc.)"
                        value={intakeRecord.CONST_Evidence_Description__c}
                        data-field="CONST_Evidence_Description__c"
                        onchange={handleFieldChange}
                      ></lightning-textarea></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-dual-listbox
                      label="What outcome are you seeking?"
                      options={constructionDesiredOutcomeOptions}
                      value={intakeRecord.CONST_Desired_Outcome__c}
                      data-field="CONST_Desired_Outcome__c"
                      onchange={handleFieldChange}
                    ></lightning-dual-listbox>
                  </div>
                  <template if:true={showConstOutcomeOther}
                    ><div class="slds-col slds-size_1-of-1">
                      <lightning-input
                        label="Other desired outcome (Specify)"
                        value={intakeRecord.CONST_Desired_Outcome_Other__c}
                        data-field="CONST_Desired_Outcome_Other__c"
                        onchange={handleFieldChange}
                      ></lightning-input></div
                  ></template>
                  <div class="slds-col slds-size_1-of-1">
                    <lightning-textarea
                      label="Describe the resolution or result you are hoping to achieve"
                      value={intakeRecord.CONST_Resolution_Description__c}
                      data-field="CONST_Resolution_Description__c"
                      onchange={handleFieldChange}
                    ></lightning-textarea>
                  </div>
                </div>
              </div>
            </lightning-tab>
          </template>
        </lightning-tabset>

        <div class="slds-m-top_medium slds-text-align_right">
          <lightning-button
            variant="neutral"
            label="Cancel"
            onclick={handleCancel}
            disabled={isLoading}
            class="slds-m-right_x-small"
          ></lightning-button>
          <lightning-button
            variant="brand"
            label="Save Intake"
            onclick={handleSave}
            disabled={isLoading}
          ></lightning-button>
        </div>
      </div>
    </lightning-card>
  </template>
</template>